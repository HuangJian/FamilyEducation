<html>
<head>
    <script src="https://cdn.tailwindcss.com/3.0.12"></script>
</head>
<body>
    <section id="output">
        <div id="math" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">
                71+?=737,456+?=827,338+?=901
                410-52=?,765-130=?,857-328=?
                319+483=?,276+512=?,393+613=?
                50/5=?,28/2=?,64/?=?
                32*3=?,17*6=?,50*4=?
                ---
                ?-354=703-420,154+283+327+105=?
                725-283=?+322,308+130+242-536=?
                138+?+326=803,466+293-145-486=?
                248+?-420=283,999-365-203-312=?
            </code>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>71</i><i>+</i><i class="box"></i><i>=</i><i>737</i>
                </div>
                <div class="question flex-1">
                    <i>456</i><i>+</i><i class="box"></i><i>=</i><i>827</i>
                </div>
                <div class="question flex-1">
                    <i>338</i><i>+</i><i class="box"></i><i>=</i><i>901</i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>410</i><i>-</i><i>52</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>765</i><i>-</i><i>130</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>857</i><i>-</i><i>328</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>319</i><i>+</i><i>483</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>276</i><i>+</i><i>512</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>393</i><i>+</i><i>613</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>50</i><i>÷</i><i>5</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>28</i><i>÷</i><i>2</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>64</i><i>÷</i><i class="box"></i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>32</i><i>×</i><i>3</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>17</i><i>×</i><i>6</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>50</i><i>×</i><i>4</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <hr class="mt-2">
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i class="box"></i><i>-</i><i>354</i><i>=</i><i>703</i><i>-</i><i>420</i>
                </div>
                <div class="question flex-1">
                    <i>154</i><i>+</i><i>283</i><i>+</i><i>327</i><i>+</i><i>105</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>725</i><i>-</i><i>283</i><i>=</i><i class="box"></i><i>+</i><i>322</i>
                </div>
                <div class="question flex-1">
                    <i>308</i><i>+</i><i>130</i><i>+</i><i>242</i><i>-</i><i>536</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>138</i><i>+</i><i class="box"></i><i>+</i><i>326</i><i>=</i><i>803</i>
                </div>
                <div class="question flex-1">
                    <i>466</i><i>+</i><i>293</i><i>-</i><i>145</i><i>-</i><i>486</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>248</i><i>+</i><i class="box"></i><i>-</i><i>420</i><i>=</i><i>283</i>
                </div>
                <div class="question flex-1">
                    <i>999</i><i>-</i><i>365</i><i>-</i><i>203</i><i>-</i><i>312</i><i>=</i><i class="box"></i>
                </div>
            </div>
        </div>
        <hr class="my-2">
        <div id="char" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">梦尽落花间</code>
            <div>
                <div class="flex scale-[0.7] origin-left w-fit sample">
                    <svg>
                        <g id="char0">
                            <path d="M 377 636 Q 402 643 431 649 Q 465 658 471 662 Q 478 669 475 677 Q 468 687 442 694 Q 415 700 384 687 L 333 670 Q 228 651 200 646 Q 166 640 191 625 Q 228 606 289 619 Q 298 622 310 622 L 377 636 Z"></path>
                            <path d="M 330 568 Q 326 492 319 459 Q 318 444 333 407 Q 343 391 357 399 Q 369 409 370 482 Q 370 578 377 636 L 384 687 Q 385 691 386 696 Q 387 723 405 757 Q 412 767 401 780 Q 352 823 320 814 Q 307 810 313 795 Q 331 762 333 670 L 330 568 Z"></path>
                            <path d="M 310 622 Q 262 529 140 392 Q 134 383 144 382 Q 162 379 252 466 Q 291 506 330 568 C 374 637 325 649 310 622 Z"></path>
                            <path d="M 407 560 Q 429 539 451 514 Q 460 504 470 504 Q 477 504 482 513 Q 486 523 481 543 Q 478 559 456 572 Q 399 596 392 594 Q 388 593 389 583 Q 390 576 407 560 Z"></path>
                            <path d="M 669 655 Q 807 686 811 689 Q 820 696 815 705 Q 808 715 780 723 Q 753 729 674 702 L 628 690 Q 579 681 521 676 Q 487 670 511 654 Q 550 630 606 643 L 669 655 Z"></path>
                            <path d="M 674 702 Q 680 763 698 798 Q 704 807 693 821 Q 671 839 643 850 Q 627 859 613 853 Q 600 849 605 834 Q 627 798 628 690 L 625 583 Q 622 501 614 466 Q 613 454 629 415 Q 639 399 653 407 Q 668 419 664 518 Q 663 569 666 616 L 674 702 Z"></path>
                            <path d="M 668 653 Q 668 654 669 655 C 684 681 618 670 606 643 Q 567 552 454 449 Q 444 439 452 437 Q 459 433 470 439 Q 545 466 623 581 Q 623 582 625 583 L 668 653 Z"></path>
                            <path d="M 666 616 Q 715 535 780 449 Q 793 433 817 433 Q 898 432 923 436 Q 930 437 932 441 Q 933 445 922 451 Q 810 505 741 574 Q 705 610 668 653 C 648 676 650 642 666 616 Z"></path>
                            <path d="M 463 352 Q 464 353 466 354 Q 475 361 474 372 Q 473 382 456 406 Q 440 425 424 428 Q 409 429 412 412 Q 422 352 211 186 Q 201 180 198 176 Q 194 169 205 168 Q 238 165 351 255 L 371 271 Q 395 293 422 318 Q 429 327 437 333 L 463 352 Z"></path>
                            <path d="M 593 262 Q 512 57 275 -47 Q 265 -51 266 -56 Q 267 -60 274 -61 Q 409 -61 548 90 Q 551 94 555 98 Q 607 159 662 259 Q 681 287 710 305 Q 726 312 728 322 Q 728 335 699 356 Q 662 383 647 383 Q 635 384 622 376 Q 526 352 469 352 Q 465 353 463 352 C 433 351 410 347 437 333 Q 477 302 575 330 Q 602 337 612 329 Q 619 323 593 262 Z"></path>
                            <path d="M 351 255 Q 355 248 368 235 Q 401 202 435 164 Q 444 152 456 152 Q 465 151 469 161 Q 475 171 470 195 Q 467 217 436 239 Q 406 257 371 271 C 343 282 334 280 351 255 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <hr class="my-2">
            <div>
                <div class="flex scale-[0.7] origin-left w-fit sample">
                    <svg>
                        <g id="char1">
                            <path d="M 665 601 Q 695 676 726 696 Q 745 715 729 735 Q 711 750 656 777 Q 637 784 613 776 Q 519 739 368 711 C 339 705 346 670 375 678 Q 379 679 384 681 Q 489 702 589 724 Q 614 730 626 720 Q 639 704 607 596 C 599 567 653 573 665 601 Z"></path>
                            <path d="M 477 530 Q 559 545 687 559 Q 699 560 700 570 Q 701 579 668 600 Q 667 601 665 601 L 607 596 Q 468 562 355 544 C 325 539 320 503 350 506 Q 357 506 367 508 Q 394 515 431 522 L 477 530 Z"></path>
                            <path d="M 368 711 Q 365 715 360 718 Q 305 749 288 748 Q 264 745 281 718 Q 317 649 273 412 Q 257 349 222 278 Q 188 206 83 116 Q 65 103 61 95 Q 58 86 72 86 Q 114 83 204 164 Q 300 258 340 451 Q 344 478 350 506 L 355 544 Q 362 592 367 645 Q 371 667 375 678 C 381 702 381 702 368 711 Z"></path>
                            <path d="M 431 522 Q 491 480 596 340 Q 729 172 783 169 Q 877 165 953 172 Q 993 176 991 186 Q 990 192 800 255 Q 662 316 502 506 Q 489 521 477 530 C 454 550 407 540 431 522 Z"></path>
                            <path d="M 409 347 Q 499 247 527 245 Q 542 244 549 263 Q 550 278 540 300 Q 527 327 492 342 Q 437 370 414 376 Q 404 377 403 365 Q 402 356 409 347 Z"></path>
                            <path d="M 390 157 Q 453 102 528 22 Q 544 1 560 -3 Q 570 -4 577 7 Q 590 20 576 65 Q 560 131 390 188 Q 381 194 379 181 Q 379 168 390 157 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <hr class="my-2">
            <div>
                <div class="flex scale-[0.7] origin-left w-fit sample">
                    <svg>
                        <g id="char2">
                            <path d="M 638 690 Q 710 699 826 689 Q 841 688 846 697 Q 852 707 839 722 Q 791 765 705 744 Q 681 741 659 737 L 599 728 Q 515 718 424 706 L 374 701 Q 289 694 195 685 Q 167 682 186 667 Q 229 640 282 648 Q 333 661 382 668 L 426 675 Q 432 682 589 688 L 638 690 Z"></path>
                            <path d="M 424 706 Q 423 734 422 756 Q 423 775 404 781 Q 365 802 343 794 Q 324 785 339 766 Q 364 736 374 701 L 382 668 Q 397 611 408 600 Q 421 590 425 601 Q 425 604 426 675 L 424 706 Z"></path>
                            <path d="M 659 737 Q 668 756 683 780 Q 698 793 688 805 Q 676 821 643 841 Q 627 851 609 842 Q 599 836 606 825 Q 615 798 599 728 L 589 688 Q 570 625 571 612 Q 572 597 588 608 Q 600 617 638 690 L 659 737 Z"></path>
                            <path d="M 239 553 Q 266 531 294 506 Q 307 493 322 495 Q 332 496 337 508 Q 341 523 331 551 Q 325 570 296 582 Q 227 606 212 599 Q 208 595 209 583 Q 213 573 239 553 Z"></path>
                            <path d="M 160 425 Q 208 380 242 369 Q 255 368 263 380 Q 267 393 264 408 Q 246 450 168 461 Q 152 464 144 460 Q 140 459 142 447 Q 145 437 160 425 Z"></path>
                            <path d="M 160 131 Q 147 127 149 110 Q 161 37 195 15 Q 202 8 212 10 Q 219 11 221 37 Q 228 77 316 296 Q 323 312 323 318 Q 322 328 313 322 Q 307 319 195 164 Q 185 148 160 131 Z"></path>
                            <path d="M 513 536 Q 529 560 545 569 Q 554 576 551 589 Q 548 599 528 621 Q 507 637 492 640 Q 476 640 481 621 Q 488 603 480 589 Q 444 517 344 408 Q 335 401 333 396 Q 329 387 341 388 Q 363 391 434 453 L 453 472 Q 471 490 492 512 L 513 536 Z"></path>
                            <path d="M 400 209 Q 502 275 572 343 Q 573 346 578 349 L 605 377 Q 714 500 739 518 Q 755 528 750 537 Q 749 547 689 573 Q 671 583 652 572 Q 613 551 513 536 C 483 531 463 518 492 512 Q 516 499 611 519 Q 627 523 633 515 Q 636 508 624 491 Q 599 449 564 407 L 541 380 Q 454 287 302 181 Q 287 171 302 169 Q 326 169 385 201 L 400 209 Z"></path>
                            <path d="M 578 349 Q 638 289 753 212 Q 769 203 792 205 Q 877 215 944 235 Q 978 245 974 254 Q 973 258 937 265 Q 754 296 708 317 Q 660 341 605 377 L 564 407 Q 542 425 517 444 Q 483 472 453 472 C 423 476 407 467 434 453 Q 435 452 440 450 Q 467 438 541 380 L 578 349 Z"></path>
                            <path d="M 445 198 Q 433 204 405 209 Q 402 210 400 209 C 383 210 383 210 385 201 Q 385 195 390 185 Q 417 128 430 35 Q 433 7 448 -12 Q 466 -34 471 -19 Q 475 -9 476 9 L 473 45 Q 460 136 458 166 C 456 194 456 194 445 198 Z"></path>
                            <path d="M 690 70 Q 720 148 748 165 Q 766 184 751 203 Q 676 264 620 237 Q 556 216 445 198 C 415 193 429 160 458 166 Q 467 167 479 171 Q 554 183 624 195 Q 643 199 650 192 Q 663 176 635 74 C 627 45 679 42 690 70 Z"></path>
                            <path d="M 476 9 Q 483 8 494 10 Q 561 23 706 32 Q 718 33 719 42 Q 719 51 690 70 C 672 82 664 80 635 74 Q 545 55 473 45 C 443 41 446 10 476 9 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <hr class="my-2">
            <div>
                <div class="flex scale-[0.7] origin-left w-fit sample">
                    <svg>
                        <g id="char3">
                            <path d="M 628 661 Q 842 661 852 668 Q 853 669 855 671 Q 861 683 844 697 Q 786 742 719 724 Q 686 718 647 711 L 588 701 Q 509 695 413 678 L 364 672 Q 270 663 169 651 Q 147 650 163 631 Q 178 616 196 611 Q 218 605 235 609 Q 299 627 372 637 L 416 643 Q 455 653 577 659 L 628 661 Z"></path>
                            <path d="M 413 678 Q 409 718 408 750 Q 409 771 389 777 Q 344 795 325 789 Q 306 780 322 760 Q 353 720 364 672 L 372 637 Q 384 568 399 552 Q 412 542 417 553 Q 420 565 416 643 L 413 678 Z"></path>
                            <path d="M 647 711 Q 657 741 679 781 Q 695 797 683 808 Q 670 826 633 844 Q 615 854 596 844 Q 586 837 594 825 Q 606 792 588 701 L 577 659 Q 550 554 550 544 Q 551 528 568 541 Q 587 557 628 661 L 647 711 Z"></path>
                            <path d="M 323 338 Q 398 425 417 438 Q 427 448 425 461 Q 422 474 398 501 Q 374 523 356 525 Q 337 526 342 504 Q 351 474 337 453 Q 294 378 235 313 Q 178 249 103 181 Q 91 172 89 167 Q 83 157 98 157 Q 143 157 296 309 L 323 338 Z"></path>
                            <path d="M 296 309 Q 326 243 290 83 Q 278 34 313 -7 L 314 -9 Q 330 -24 342 1 Q 355 40 355 83 Q 358 230 363 263 Q 370 288 361 298 Q 333 331 323 338 C 300 358 285 337 296 309 Z"></path>
                            <path d="M 572 247 Q 728 350 819 396 Q 841 399 838 413 Q 834 432 814 458 Q 795 483 767 489 Q 749 490 747 468 Q 748 452 734 433 Q 670 372 575 293 L 527 255 Q 472 213 409 164 Q 402 157 406 147 Q 416 143 425 148 Q 477 185 527 217 L 572 247 Z"></path>
                            <path d="M 939 93 Q 924 121 905 211 Q 905 229 897 234 Q 890 238 886 218 Q 856 122 836 93 Q 824 77 788 67 Q 704 46 630 76 Q 602 89 593 108 Q 572 151 572 247 L 575 293 Q 579 369 593 456 Q 599 477 585 487 Q 570 502 544 511 Q 531 515 521 510 Q 514 506 519 486 Q 535 443 532 401 Q 528 319 527 255 L 527 217 Q 528 126 540 86 Q 546 61 569 38 Q 654 -29 817 -2 Q 833 2 850 6 Q 892 19 932 48 Q 953 64 939 93 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <hr class="my-2">
            <div>
                <div class="flex scale-[0.7] origin-left w-fit sample">
                    <svg>
                        <g id="char4">
                            <path d="M 284 754 Q 347 673 375 669 Q 390 668 397 687 Q 400 702 390 725 Q 380 744 351 757 Q 308 779 290 784 Q 280 785 278 773 Q 277 764 284 754 Z"></path>
                            <path d="M 182 683 Q 209 620 207 551 Q 214 283 168 150 Q 149 86 187 46 Q 199 30 210 46 Q 247 82 248 248 Q 248 546 266 646 Q 269 667 251 678 Q 226 699 196 708 Q 186 711 178 701 Q 174 694 182 683 Z"></path>
                            <path d="M 482 747 Q 466 748 470 737 Q 477 724 501 713 Q 513 704 561 715 Q 729 761 750 732 Q 780 686 774 282 Q 773 212 769 137 Q 769 95 753 85 Q 734 75 646 105 Q 630 109 630 99 Q 631 92 644 84 Q 720 29 761 -13 Q 783 -34 796 -31 Q 809 -28 821 2 Q 837 48 837 118 Q 819 506 822 650 Q 822 692 834 716 Q 847 738 836 751 Q 826 767 776 792 Q 754 804 691 783 Q 493 750 482 747 Z"></path>
                            <path d="M 414 526 Q 393 547 364 544 Q 352 540 358 530 Q 397 451 365 317 Q 347 256 374 227 Q 380 215 388 221 Q 398 228 406 254 Q 407 258 408 261 L 413 288 Q 416 307 416 380 L 416 404 Q 416 477 419 499 C 421 520 421 520 414 526 Z"></path>
                            <path d="M 552 275 Q 579 241 599 207 Q 606 191 617 192 Q 632 193 646 222 Q 656 244 657 315 Q 639 489 662 515 Q 669 525 662 535 Q 646 551 601 573 Q 585 580 572 573 Q 550 564 414 526 C 385 518 389 494 419 499 Q 432 500 454 506 Q 577 536 587 527 Q 611 496 595 301 Q 594 297 591 294 C 583 265 534 299 552 275 Z"></path>
                            <path d="M 416 380 Q 422 379 430 380 Q 493 390 540 397 Q 562 401 553 413 Q 543 426 519 430 Q 489 433 416 404 C 388 393 386 383 416 380 Z"></path>
                            <path d="M 408 261 Q 412 261 421 261 Q 494 270 552 275 C 582 278 603 279 591 294 Q 582 307 560 312 Q 535 318 413 288 C 384 281 378 261 408 261 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char4"></use></svg>
                    <svg><use href="#char4"></use></svg>
                    <svg><use href="#char4"></use></svg>
                    <svg><use href="#char4"></use></svg>
                    <svg><use href="#char4"></use></svg>
                    <svg><use href="#char4"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg><use href="#char4"></use></svg>
                    <svg><use href="#char4"></use></svg>
                    <svg><use href="#char4"></use></svg>
                    <svg><use href="#char4"></use></svg>
                    <svg><use href="#char4"></use></svg>
                    <svg><use href="#char4"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
        </div>
    </section>
    <style>
        path {
            /* 仅当 --char-index === --stroke-index 时，可得 1（true），否则 0 （false）*/
            --is-current: clamp(0,
                    calc(1 - (var(--char-index) - var(--stroke-index)) * (var(--char-index) - var(--stroke-index))),
                    1);
            /* 仅当 --char-index > --stroke-index 时，可得 1（true），否则 0 （false）*/
            --is-past: clamp(0,
                    calc(var(--char-index) - var(--stroke-index)),
                    1);
            /* 仅当 --char-index < --stroke-index 时，可得 1（true），否则 0 （false）*/
            --is-next: clamp(0,
                    calc(var(--stroke-index) - var(--char-index)),
                    1);
            /* 设计不同场景下笔画填色
                当前笔画：红色 - current: rgba(187,  68,  68, 1);
                之前笔画：黑色 - past:    rgba( 85,  85,  85, 1);
                后继笔画：透明 - next:    rgba(any, any, any, 0);
                描红笔画：灰色 - gray:    rgba(185, 185, 185, 1);
                */
            --stroke-color: rgba(calc(85 * var(--is-past) + 187 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(1 - var(--is-next)));
            fill: var(--stroke-color);
        }
        :root {
            --is-gray: 0;
            /* 初始化为 100，使描红字样必定计算出 --is-past=1，--is-current=0 --is-next=0 */
            --char-index: 100;
        }
        .write-them-down {
            /* 描红格子里填充灰色 */
            --is-gray: 1;
        }
        #char svg {
            display: inline-block;
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAP1BMVEUAAABFoFBGoFBGoFBGoVFGn1BDn1JEoVNFp1hEoE9En1FHoVJKoldFoE9GoFBFoFBGn1NGoE9HoU9GoVBEn1Jj1l/OAAAAFXRSTlMAMma7X201CQUsIRUNs6uPKKF6STipww1qAAABtklEQVRo3u2b2Y6DMAxFfQnD2pbO8v/fOlKL5JFoUZMmXpict4qSIyEwxrEpgFJpGkplIEKAvBiXm7mTFa9KNkuJWcjmwuKNDouYeHNTiYn7M0hFTD1V9FhAOiAUNaPdfbQLwIsLm3npcub0hRHmiACS8/aZqYB43HiFQuZpJFkxU8XP+IGSGAF5xGOvE7cRxiyhpuwifJK8d3u1RRfAZPn1/pwWVDEcMv8yKYmngFhxXyxu74txzmbuIsT89wJmFid4080sLp8g4+uh2E6cHC4gHQaq+ObTYM0ADRWBw0PEgVLmphHxsoLFIl6WnFgsGidXL4uvsvGZxcOVXsBRslfFd75VoydmEoTNbz2/7Ur8b4SAN87/WKGVV3+v4uTzBS71UW6uyMfpAAHkX4t3XouHSAQiUx/3yV5keus+oY/9hPH/0VYxxEBxmC03RRbY3JcU44uovsvGKYVy31sDk9mcq5KK/qZmjm1cTxvXCJ3XFoH7Ik7aMTI2oDhpubEdMqt4v3XOarNgyfZIiw2hDw/7br29LW6uzXmp3/sVKwMa6SMpekM4emNHeoNWWqNlesN0auODvzsxCat6cG0IAAAAAElFTkSuQmCC");
            background-size: contain;
            border: 1px solid rgba(70, 160, 80, 0.5);
            width: 54px;
            height: 54px;
        }
        g {
            transform: translate(5px, 43.671875px) scale(0.04296875, -0.04296875);
        }
        .sample>svg+svg {
            margin-left: 4px;
        }
        #math {
            font-family: 'Courier New', Courier, monospace;
            font-size: 24px;
            color: #666;
        }
        #math .question {
            text-align: center;
        }
        #math .question:first-child {
            text-align: left;
        }
        #math .question:last-child {
            text-align: right;
        }
        #math .question>i {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
            width: 36px;
            height: 36px;
            font-style: normal;
        }
        #math .box {
            border-bottom: 1px solid #aaa;
        }
    </style>
    <script>
        const injectedStyles = Array.from({ length: 100 })
            .map((_, idx) => `
                .sample > svg:nth-child(${idx + 1}) { --char-index: ${idx + 1}; }
                path:nth-child(${idx + 1}) { --stroke-index: ${idx + 1}; }
                `
            ).join('\n')
        document.querySelector('#injected')?.remove()
        document.head.insertAdjacentHTML('beforeend', `<style id="injected">${injectedStyles}</style>`)
    </script>
</body>
</html>
