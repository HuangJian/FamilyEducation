<html>
<head>
    <script src="https://cdn.tailwindcss.com/3.0.12"></script>
</head>
<body>
    <section id="output">
        <div id="math" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">886+69=?,2474-?=410,9502+?=9684
                116*8=?,94*15=?,352*17=?
                4277/7=?,350/70=?,7884/18=?
                944-566=?+141,8962+745+2402-5405=?
                377+?-926=9238,9753+915-2452-4874=?
                ?-4523+369=5256,9306-3833-336-2547=?</code>
            <code class="hidden" id="answers">955,2064,182,928,1410,5984,611,5,438,237,6704,9787,3342,9410,2590</code>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>886</i><i>+</i><i>69</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>2474</i><i>-</i><i class="box"></i><i>=</i><i>410</i></div>
                <div class="question flex-1"><i>9502</i><i>+</i><i class="box"></i><i>=</i><i>9684</i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>116</i><i>×</i><i>8</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>94</i><i>×</i><i>15</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>352</i><i>×</i><i>17</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>4277</i><i>÷</i><i>7</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>350</i><i>÷</i><i>70</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>7884</i><i>÷</i><i>18</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>944</i><i>-</i><i>566</i><i>=</i><i class="box"></i><i>+</i><i>141</i>
                </div>
                <div class="question flex-1">
                    <i>8962</i><i>+</i><i>745</i><i>+</i><i>2402</i><i>-</i><i>5405</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>377</i><i>+</i><i class="box"></i><i>-</i><i>926</i><i>=</i><i>9238</i>
                </div>
                <div class="question flex-1">
                    <i>9753</i><i>+</i><i>915</i><i>-</i><i>2452</i><i>-</i><i>4874</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i class="box"></i><i>-</i><i>4523</i><i>+</i><i>369</i><i>=</i><i>5256</i>
                </div>
                <div class="question flex-1">
                    <i>9306</i><i>-</i><i>3833</i><i>-</i><i>336</i><i>-</i><i>2547</i><i>=</i><i class="box"></i></div>
            </div>
        </div>
        <hr class="my-4">
        <div id="char" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">斤斤计较</code>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char0">
                            <path d="M 372 669 Q 510 709 546 727 Q 601 749 648 759 Q 669 760 673 770 Q 677 783 663 796 Q 638 815 583 836 Q 564 845 549 843 Q 539 839 539 825 Q 539 786 360 693 C 333 679 343 661 372 669 Z"></path>
                            <path d="M 360 514 Q 364 614 371 662 Q 372 666 372 669 C 374 686 374 686 360 693 Q 297 724 281 720 Q 259 716 277 691 Q 317 621 290 389 Q 280 326 250 253 Q 217 169 124 84 Q 108 69 104 62 Q 103 53 116 54 Q 167 57 239 140 Q 321 230 349 412 Q 352 445 357 481 L 360 514 Z"></path>
                            <path d="M 618 519 Q 630 522 868 541 Q 889 542 894 551 Q 898 564 881 577 Q 823 613 786 603 Q 668 573 360 514 C 331 508 328 489 357 481 Q 387 469 425 478 Q 486 497 556 508 L 618 519 Z"></path>
                            <path d="M 588 -35 Q 594 -63 601 -73 Q 607 -80 615 -78 Q 631 -69 638 -4 Q 645 63 644 129 Q 637 378 656 474 Q 659 493 644 503 Q 629 513 618 519 C 592 534 542 534 556 508 Q 557 507 559 505 Q 578 465 581 439 Q 585 316 583 125 Q 583 5 588 -35 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char1">
                            <path d="M 372 669 Q 510 709 546 727 Q 601 749 648 759 Q 669 760 673 770 Q 677 783 663 796 Q 638 815 583 836 Q 564 845 549 843 Q 539 839 539 825 Q 539 786 360 693 C 333 679 343 661 372 669 Z"></path>
                            <path d="M 360 514 Q 364 614 371 662 Q 372 666 372 669 C 374 686 374 686 360 693 Q 297 724 281 720 Q 259 716 277 691 Q 317 621 290 389 Q 280 326 250 253 Q 217 169 124 84 Q 108 69 104 62 Q 103 53 116 54 Q 167 57 239 140 Q 321 230 349 412 Q 352 445 357 481 L 360 514 Z"></path>
                            <path d="M 618 519 Q 630 522 868 541 Q 889 542 894 551 Q 898 564 881 577 Q 823 613 786 603 Q 668 573 360 514 C 331 508 328 489 357 481 Q 387 469 425 478 Q 486 497 556 508 L 618 519 Z"></path>
                            <path d="M 588 -35 Q 594 -63 601 -73 Q 607 -80 615 -78 Q 631 -69 638 -4 Q 645 63 644 129 Q 637 378 656 474 Q 659 493 644 503 Q 629 513 618 519 C 592 534 542 534 556 508 Q 557 507 559 505 Q 578 465 581 439 Q 585 316 583 125 Q 583 5 588 -35 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char2">
                            <path d="M 342 765 Q 382 735 425 700 Q 441 687 459 688 Q 472 689 476 704 Q 480 722 469 755 Q 454 795 333 820 Q 315 823 308 820 Q 302 814 305 800 Q 309 787 342 765 Z"></path>
                            <path d="M 162 526 Q 107 511 79 510 Q 63 511 60 503 Q 56 494 67 486 Q 106 459 147 472 Q 202 493 254 517 Q 285 530 295 522 Q 307 515 299 484 Q 299 439 297 395 Q 297 268 263 150 Q 245 119 292 62 Q 302 49 314 56 Q 321 63 334 89 Q 371 137 447 218 Q 460 231 458 238 Q 457 247 444 237 Q 410 218 377 195 Q 325 152 334 216 Q 333 292 357 477 Q 361 502 385 527 Q 398 539 388 552 Q 376 570 335 588 Q 322 595 304 583 Q 213 540 162 526 Z"></path>
                            <path d="M 720 463 Q 817 472 935 473 Q 956 474 960 483 Q 966 495 948 509 Q 888 551 824 531 Q 779 522 721 509 L 663 498 Q 561 482 444 463 Q 422 460 439 443 Q 475 413 521 427 Q 587 446 663 455 L 720 463 Z"></path>
                            <path d="M 663 455 Q 663 250 659 183 Q 656 14 676 -20 Q 691 -36 700 -14 Q 718 25 719 436 Q 719 451 720 463 L 721 509 Q 722 716 743 747 Q 750 774 733 787 Q 708 806 663 819 Q 642 823 629 809 Q 619 802 632 788 Q 660 764 662 730 Q 663 648 663 498 L 663 455 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char3">
                            <path d="M 295 608 Q 460 650 464 653 Q 471 660 467 669 Q 460 679 432 686 Q 402 690 316 659 L 266 645 Q 217 635 164 628 Q 130 621 155 606 Q 194 582 251 598 L 295 608 Z"></path>
                            <path d="M 357 392 Q 394 402 432 404 Q 460 407 452 420 Q 442 433 426 440 Q 414 443 359 427 L 316 417 Q 279 410 236 400 Q 221 397 219 400 Q 218 401 220 413 Q 251 501 295 608 L 316 659 Q 362 752 367 757 Q 380 769 363 788 Q 338 813 317 826 Q 304 833 294 830 Q 285 826 292 805 Q 302 771 266 645 L 251 598 Q 224 490 155 400 Q 128 372 161 337 Q 170 328 180 333 Q 217 355 307 380 Q 310 381 315 382 L 357 392 Z"></path>
                            <path d="M 309 233 Q 300 110 292 82 Q 283 46 314 -1 Q 324 -19 331 -22 Q 341 -23 347 -11 Q 359 19 356 47 Q 353 156 354 253 L 354 285 Q 355 313 356 339 Q 356 367 357 392 L 359 427 Q 360 464 365 483 Q 368 495 361 500 Q 339 519 322 528 Q 310 532 302 525 Q 296 522 303 513 Q 310 501 316 417 L 315 382 Q 314 328 312 271 L 309 233 Z"></path>
                            <path d="M 354 253 Q 430 286 434 304 Q 427 310 354 285 L 312 271 Q 227 246 134 218 Q 115 212 82 212 Q 69 211 68 201 Q 65 188 74 181 Q 96 165 127 148 Q 137 145 149 153 Q 194 187 309 233 L 354 253 Z"></path>
                            <path d="M 622 754 Q 649 732 677 707 Q 693 694 711 695 Q 724 696 728 712 Q 732 730 720 763 Q 713 782 680 794 Q 604 815 588 807 Q 582 803 585 788 Q 589 775 622 754 Z"></path>
                            <path d="M 505 563 Q 486 559 502 544 Q 518 532 535 529 Q 557 526 571 533 Q 667 572 841 589 Q 851 590 865 591 Q 884 594 888 602 Q 892 615 874 626 Q 811 659 765 637 Q 663 607 505 563 Z"></path>
                            <path d="M 527 484 Q 530 447 454 343 Q 439 327 461 335 Q 501 341 592 467 Q 599 477 595 485 Q 591 495 568 498 Q 543 502 534 497 Q 527 496 527 484 Z"></path>
                            <path d="M 717 479 Q 768 449 831 403 Q 849 388 864 388 Q 871 388 876 399 Q 885 412 865 449 Q 847 491 712 507 Q 703 510 703 498 Q 704 486 717 479 Z"></path>
                            <path d="M 691 191 Q 725 272 735 312 Q 739 337 747 354 Q 753 366 745 373 Q 729 392 709 403 Q 690 415 681 412 Q 672 408 674 398 Q 692 320 655 227 L 637 188 Q 577 91 385 44 Q 376 43 372 40 Q 366 36 374 31 Q 417 21 522 52 Q 594 76 636 117 Q 652 133 665 151 L 691 191 Z"></path>
                            <path d="M 665 151 Q 710 97 784 28 Q 811 6 853 12 Q 908 19 949 24 Q 962 25 974 30 Q 981 37 970 45 Q 955 54 840 92 Q 765 120 691 191 L 655 227 Q 624 261 590 302 Q 572 324 540 331 Q 528 334 519 327 Q 513 320 523 312 Q 551 296 623 206 Q 629 199 637 188 L 665 151 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
        </div>
        <hr class="my-4">
        <div id="english" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">It is a lovely vase</code>
            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-i.png">
                    <img class="letter" src="../../Generator/images/lower-t.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-i.png">
                    <img class="letter" src="../../Generator/images/lower-s.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-a.png">
</div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-l.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-v.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                    <img class="letter" src="../../Generator/images/lower-l.png">
                    <img class="letter" src="../../Generator/images/lower-y.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-v.png">
                    <img class="letter" src="../../Generator/images/lower-a.png">
                    <img class="letter" src="../../Generator/images/lower-s.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                </div>
            </div>

            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-i.png">
                    <img class="letter" src="../../Generator/images/lower-t.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-i.png">
                    <img class="letter" src="../../Generator/images/lower-s.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-a.png">
</div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-l.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-v.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                    <img class="letter" src="../../Generator/images/lower-l.png">
                    <img class="letter" src="../../Generator/images/lower-y.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-v.png">
                    <img class="letter" src="../../Generator/images/lower-a.png">
                    <img class="letter" src="../../Generator/images/lower-s.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                </div>
            </div>

            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-i.png">
                    <img class="letter" src="../../Generator/images/lowdot-t.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-i.png">
                    <img class="letter" src="../../Generator/images/lowdot-s.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-a.png">
</div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-l.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-v.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                    <img class="letter" src="../../Generator/images/lowdot-l.png">
                    <img class="letter" src="../../Generator/images/lowdot-y.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-v.png">
                    <img class="letter" src="../../Generator/images/lowdot-a.png">
                    <img class="letter" src="../../Generator/images/lowdot-s.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                </div>
            </div>

            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-i.png">
                    <img class="letter" src="../../Generator/images/lowdot-t.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-i.png">
                    <img class="letter" src="../../Generator/images/lowdot-s.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-a.png">
</div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-l.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-v.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                    <img class="letter" src="../../Generator/images/lowdot-l.png">
                    <img class="letter" src="../../Generator/images/lowdot-y.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-v.png">
                    <img class="letter" src="../../Generator/images/lowdot-a.png">
                    <img class="letter" src="../../Generator/images/lowdot-s.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                </div>
            </div>
        </div>
    </section>
    <style>
        path {
            --is-current: clamp(0,
                    calc(1 - (var(--char-index) - var(--stroke-index)) * (var(--char-index) - var(--stroke-index))),
                    1);
            --is-past: clamp(0,
                    calc(var(--char-index) - var(--stroke-index)),
                    1);
            --is-next: clamp(0,
                    calc(var(--stroke-index) - var(--char-index)),
                    1);

            --stroke-color: rgba(calc(85 * var(--is-past) + 187 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(1 - var(--is-next)));
            fill: var(--stroke-color);
        }
        :root {
            --is-gray: 0;
            --char-index: 100;
        }
        .write-them-down {
            --is-gray: 1;
        }
        #char svg {
            display: inline-block;
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAP1BMVEUAAABFoFBGoFBGoFBGoVFGn1BDn1JEoVNFp1hEoE9En1FHoVJKoldFoE9GoFBFoFBGn1NGoE9HoU9GoVBEn1Jj1l/OAAAAFXRSTlMAMma7X201CQUsIRUNs6uPKKF6STipww1qAAABtklEQVRo3u2b2Y6DMAxFfQnD2pbO8v/fOlKL5JFoUZMmXpict4qSIyEwxrEpgFJpGkplIEKAvBiXm7mTFa9KNkuJWcjmwuKNDouYeHNTiYn7M0hFTD1V9FhAOiAUNaPdfbQLwIsLm3npcub0hRHmiACS8/aZqYB43HiFQuZpJFkxU8XP+IGSGAF5xGOvE7cRxiyhpuwifJK8d3u1RRfAZPn1/pwWVDEcMv8yKYmngFhxXyxu74txzmbuIsT89wJmFid4080sLp8g4+uh2E6cHC4gHQaq+ObTYM0ADRWBw0PEgVLmphHxsoLFIl6WnFgsGidXL4uvsvGZxcOVXsBRslfFd75VoydmEoTNbz2/7Ur8b4SAN87/WKGVV3+v4uTzBS71UW6uyMfpAAHkX4t3XouHSAQiUx/3yV5keus+oY/9hPH/0VYxxEBxmC03RRbY3JcU44uovsvGKYVy31sDk9mcq5KK/qZmjm1cTxvXCJ3XFoH7Ik7aMTI2oDhpubEdMqt4v3XOarNgyfZIiw2hDw/7br29LW6uzXmp3/sVKwMa6SMpekM4emNHeoNWWqNlesN0auODvzsxCat6cG0IAAAAAElFTkSuQmCC");
            background-size: contain;
            border: 1px solid rgba(70, 160, 80, 0.5);
            width: 54px;
            height: 54px;
        }
        g {
            transform: translate(5px, 43.671875px) scale(0.04296875, -0.04296875);
        }
        .sample {
            margin-top: -8px;
        }
        .sample>svg+svg {
            margin-left: 4px;
        }
        #math {
            font-family: 'Courier New', Courier, monospace;
            font-size: 19px;
            color: #666;
        }
        #math .question {
            text-align: center;
        }
        #math .question:first-child {
            text-align: left;
        }
        #math .question:last-child {
            text-align: right;
        }
        #math .question>i {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
            width: 36px;
            height: 36px;
            font-style: normal;
        }
        #math .box {
            border-bottom: 1px solid #aaa;
            color: blue;
        }
        .word {
            margin-bottom: 13px;
        }
    </style>
    <script>
        document.addEventListener('keydown', evt => {
            if (evt.code === 'ControlLeft') {
                let isAnswerVisible = document.querySelector('.box').innerText !== ''
                const answers = document.querySelector('#answers').textContent.split(',')
                document.querySelectorAll('.box')
                    .forEach((box, idx) => box.innerText = isAnswerVisible ? '' : answers[idx])
            }
        })
    </script>
    <script>
        const injectedStyles = Array.from({ length: 100 })
            .map(it => it + 1)
            .map((_, idx) =>
                `.sample > svg:nth-child(${idx}) { --char-index: ${idx}; }`
                + `path:nth-child(${idx}) { --stroke-index: ${idx}; }`
            )
            .join('\n')
        document.querySelector('#injected')?.remove()
        document.head.insertAdjacentHTML('beforeend', `<style id="injected">${injectedStyles}</style>`)
    </script>
</body>
</html>
