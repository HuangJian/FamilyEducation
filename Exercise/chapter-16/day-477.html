<html>
<head>
    <script src="https://cdn.tailwindcss.com/3.0.12"></script>
</head>
<body>
    <section id="output">
        <div id="math" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">668+752=?,1621-?=716,1528+?=1890
                32*7=?,8*243=?,1262*5=?
                732/6=?,3861/9=?,5284/4=?
                971-436=?+239,474+219+842-1320=?
                363+?-564=885,1461+811-590-1454=?
                ?-770+678=793,3494-1606-551-973=?</code>
            <code class="hidden" id="answers">1420,905,362,224,1944,6310,122,429,1321,296,215,1086,228,885,364</code>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>668</i><i>+</i><i>752</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>1621</i><i>-</i><i class="box"></i><i>=</i><i>716</i></div>
                <div class="question flex-1"><i>1528</i><i>+</i><i class="box"></i><i>=</i><i>1890</i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>32</i><i>×</i><i>7</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>8</i><i>×</i><i>243</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>1262</i><i>×</i><i>5</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>732</i><i>÷</i><i>6</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>3861</i><i>÷</i><i>9</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>5284</i><i>÷</i><i>4</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>971</i><i>-</i><i>436</i><i>=</i><i class="box"></i><i>+</i><i>239</i>
                </div>
                <div class="question flex-1"><i>474</i><i>+</i><i>219</i><i>+</i><i>842</i><i>-</i><i>1320</i><i>=</i><i
                       class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>363</i><i>+</i><i class="box"></i><i>-</i><i>564</i><i>=</i><i>885</i>
                </div>
                <div class="question flex-1">
                    <i>1461</i><i>+</i><i>811</i><i>-</i><i>590</i><i>-</i><i>1454</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i class="box"></i><i>-</i><i>770</i><i>+</i><i>678</i><i>=</i><i>793</i>
                </div>
                <div class="question flex-1">
                    <i>3494</i><i>-</i><i>1606</i><i>-</i><i>551</i><i>-</i><i>973</i><i>=</i><i class="box"></i>
                </div>
            </div>
        </div>
        <hr class="my-4">
        <div id="char" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">叶公好龙</code>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char0">
                            <path d="M 160 553 Q 147 560 115 566 Q 102 570 97 564 Q 90 557 99 539 Q 132 464 148 343 Q 151 306 171 281 Q 190 256 196 274 Q 205 296 200 338 L 194 374 Q 176 495 174 525 C 172 548 172 548 160 553 Z"></path>
                            <path d="M 338 411 Q 351 508 377 540 Q 399 568 374 581 Q 353 591 324 608 Q 303 620 264 591 Q 224 572 160 553 C 131 544 146 514 174 525 Q 175 528 264 552 Q 289 559 296 549 Q 306 542 299 500 Q 293 457 284 406 C 279 376 334 381 338 411 Z"></path>
                            <path d="M 200 338 Q 224 350 359 376 Q 369 379 370 388 Q 370 395 338 411 C 321 420 312 416 284 406 Q 235 388 194 374 C 166 364 172 326 200 338 Z"></path>
                            <path d="M 666 443 Q 751 455 877 457 Q 940 457 945 468 Q 951 481 932 496 Q 866 541 804 520 Q 746 508 667 491 L 608 480 Q 506 464 389 445 Q 367 442 384 423 Q 400 408 420 403 Q 444 399 461 404 Q 528 423 608 435 L 666 443 Z"></path>
                            <path d="M 608 435 Q 614 330 605 150 Q 602 -30 623 -68 Q 639 -84 649 -61 Q 665 -12 666 443 L 667 491 Q 668 722 689 756 Q 698 783 679 798 Q 652 819 606 830 Q 585 836 571 821 Q 561 812 574 799 Q 605 774 607 737 Q 608 646 608 480 L 608 435 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char1">
                            <path d="M 304 649 Q 322 577 199 422 Q 193 418 189 411 Q 152 368 61 284 Q 52 280 64 276 Q 140 291 252 412 Q 256 419 264 426 Q 307 477 374 581 Q 383 594 389 601 Q 396 607 395 617 Q 394 627 380 640 Q 344 670 310 665 Q 301 662 304 649 Z"></path>
                            <path d="M 467 783 Q 527 747 562 678 Q 662 477 753 386 Q 775 370 886 372 Q 919 375 966 376 Q 987 377 987 383 Q 987 387 968 395 Q 794 459 735 515 Q 656 594 554 760 Q 533 794 495 799 Q 467 802 465 795 Q 461 786 467 783 Z"></path>
                            <path d="M 629 177 Q 500 164 362 133 Q 347 129 343 133 Q 340 137 347 150 Q 477 334 505 364 Q 520 376 512 391 Q 505 406 448 432 Q 429 442 417 436 Q 401 429 409 405 Q 430 333 302 171 Q 277 146 238 118 Q 222 103 226 91 Q 232 70 262 47 Q 275 34 291 47 Q 357 93 633 146 Q 640 147 647 150 C 676 157 659 180 629 177 Z"></path>
                            <path d="M 647 150 Q 707 54 718 48 Q 727 45 738 54 Q 754 66 750 118 Q 750 181 585 289 Q 576 296 571 284 Q 567 269 576 255 Q 601 221 629 177 L 647 150 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char2">
                            <path d="M 330 202 Q 361 175 399 134 Q 415 119 424 118 Q 433 118 439 128 Q 446 138 442 170 Q 435 206 361 247 L 319 270 Q 292 286 258 304 Q 237 314 240 335 Q 261 393 281 453 L 293 492 Q 317 568 337 644 Q 347 690 366 715 Q 379 737 373 750 Q 360 769 313 797 Q 294 810 276 801 Q 263 794 273 778 Q 303 733 247 486 L 236 442 Q 218 373 195 336 Q 185 314 206 296 Q 254 268 294 233 L 330 202 Z"></path>
                            <path d="M 294 233 Q 287 226 281 217 Q 250 180 196 143 Q 183 134 165 124 Q 149 114 133 104 Q 120 95 131 92 Q 212 86 327 199 Q 328 200 330 202 L 361 247 Q 406 322 421 385 Q 449 488 463 510 Q 473 526 458 537 Q 416 576 387 569 Q 374 565 378 550 Q 387 531 387 507 L 385 481 Q 384 469 382 455 Q 375 376 319 270 L 294 233 Z"></path>
                            <path d="M 387 507 Q 341 501 293 492 L 247 486 Q 183 479 115 468 Q 94 465 61 471 Q 48 471 45 462 Q 41 450 49 441 Q 68 422 96 400 Q 106 396 118 402 Q 190 436 236 442 L 281 453 Q 320 463 362 474 Q 372 478 385 481 C 414 489 417 511 387 507 Z"></path>
                            <path d="M 671 521 Q 788 635 822 648 Q 843 655 835 672 Q 831 688 760 725 Q 739 735 716 725 Q 661 703 575 676 Q 553 669 498 669 Q 473 669 482 648 Q 491 635 511 623 Q 544 605 578 627 Q 597 636 691 676 Q 706 682 719 673 Q 732 664 726 649 Q 693 595 655 531 C 640 505 649 500 671 521 Z"></path>
                            <path d="M 717 430 Q 702 497 671 521 L 655 531 Q 648 535 640 538 Q 618 547 608 540 Q 595 533 608 519 Q 645 491 653 444 Q 656 434 659 421 L 668 384 Q 701 204 658 103 Q 643 76 607 83 Q 576 89 548 94 Q 536 97 542 85 Q 546 78 564 65 Q 604 31 618 5 Q 628 -14 645 -11 Q 660 -10 687 17 Q 775 107 726 391 L 717 430 Z"></path>
                            <path d="M 726 391 Q 783 397 947 397 Q 966 398 971 406 Q 977 416 960 430 Q 909 467 848 454 Q 793 445 717 430 L 659 421 Q 562 409 452 393 Q 431 392 447 375 Q 460 362 478 357 Q 497 351 514 356 Q 586 375 668 384 L 726 391 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char3">
                            <path d="M 508 507 Q 571 520 641 532 Q 711 547 722 556 Q 732 565 727 574 Q 720 587 687 597 Q 653 604 618 592 Q 548 570 477 552 L 419 540 Q 335 525 240 517 Q 200 511 228 492 Q 273 465 352 480 Q 379 486 409 489 L 466 500 Q 470 501 475 501 L 508 507 Z"></path>
                            <path d="M 477 552 Q 492 631 505 726 Q 512 747 515 759 Q 524 781 502 795 Q 451 828 435 826 Q 413 825 427 798 Q 454 738 419 540 L 409 489 Q 408 488 408 484 Q 366 268 206 133 Q 200 130 195 124 Q 123 70 122 66 Q 119 59 133 58 Q 151 57 175 70 Q 242 106 284 143 Q 375 227 419 338 Q 446 416 466 500 L 477 552 Z"></path>
                            <path d="M 490 167 Q 493 82 536 49 Q 596 6 795 13 Q 886 17 923 36 Q 954 52 942 85 Q 924 133 915 216 Q 914 232 906 238 Q 897 244 893 222 Q 874 122 858 103 Q 824 66 689 65 Q 614 66 583 79 Q 555 94 549 112 Q 539 139 534 193 L 533 243 Q 533 357 561 427 Q 574 458 555 476 Q 527 498 508 507 C 482 522 465 529 475 501 Q 474 497 478 489 Q 499 449 493 391 Q 489 279 489 208 L 490 167 Z"></path>
                            <path d="M 489 208 Q 461 186 430 163 Q 418 156 414 151 Q 408 141 422 140 Q 432 140 490 167 L 534 193 Q 760 373 764 381 Q 764 384 764 388 Q 763 401 742 430 Q 721 455 703 459 Q 685 462 687 439 Q 691 411 677 392 Q 635 338 533 243 L 489 208 Z"></path>
                            <path d="M 693 701 Q 724 676 757 646 Q 772 633 788 634 Q 800 634 805 648 Q 809 664 799 695 Q 792 717 758 731 Q 679 758 664 751 Q 658 747 661 733 Q 665 723 693 701 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
        </div>
        <hr class="my-4">
        <div id="english" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">Thank you sir</code>
            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-t.png">
                    <img class="letter" src="../../Generator/images/lower-h.png">
                    <img class="letter" src="../../Generator/images/lower-a.png">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                    <img class="letter" src="../../Generator/images/lower-k.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-y.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-u.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-s.png">
                    <img class="letter" src="../../Generator/images/lower-i.png">
                    <img class="letter" src="../../Generator/images/lower-r.png">
                </div>
            </div>
            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-t.png">
                    <img class="letter" src="../../Generator/images/lower-h.png">
                    <img class="letter" src="../../Generator/images/lower-a.png">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                    <img class="letter" src="../../Generator/images/lower-k.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-y.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-u.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-s.png">
                    <img class="letter" src="../../Generator/images/lower-i.png">
                    <img class="letter" src="../../Generator/images/lower-r.png">
                </div>
            </div>
            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-t.png">
                    <img class="letter" src="../../Generator/images/lowdot-h.png">
                    <img class="letter" src="../../Generator/images/lowdot-a.png">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                    <img class="letter" src="../../Generator/images/lowdot-k.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-y.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-u.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-s.png">
                    <img class="letter" src="../../Generator/images/lowdot-i.png">
                    <img class="letter" src="../../Generator/images/lowdot-r.png">
                </div>
            </div>
            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-t.png">
                    <img class="letter" src="../../Generator/images/lowdot-h.png">
                    <img class="letter" src="../../Generator/images/lowdot-a.png">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                    <img class="letter" src="../../Generator/images/lowdot-k.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-y.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-u.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-s.png">
                    <img class="letter" src="../../Generator/images/lowdot-i.png">
                    <img class="letter" src="../../Generator/images/lowdot-r.png">
                </div>
            </div>
        </div>
    </section>
    <style>
        path {
            --is-current: clamp(0,
                    calc(1 - (var(--char-index) - var(--stroke-index)) * (var(--char-index) - var(--stroke-index))),
                    1);
            --is-past: clamp(0,
                    calc(var(--char-index) - var(--stroke-index)),
                    1);
            --is-next: clamp(0,
                    calc(var(--stroke-index) - var(--char-index)),
                    1);
            --stroke-color: rgba(calc(85 * var(--is-past) + 187 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(1 - var(--is-next)));
            fill: var(--stroke-color);
        }
        :root {
            --is-gray: 0;
            --char-index: 100;
        }
        .write-them-down {
            --is-gray: 1;
        }
        #char svg {
            display: inline-block;
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAP1BMVEUAAABFoFBGoFBGoFBGoVFGn1BDn1JEoVNFp1hEoE9En1FHoVJKoldFoE9GoFBFoFBGn1NGoE9HoU9GoVBEn1Jj1l/OAAAAFXRSTlMAMma7X201CQUsIRUNs6uPKKF6STipww1qAAABtklEQVRo3u2b2Y6DMAxFfQnD2pbO8v/fOlKL5JFoUZMmXpict4qSIyEwxrEpgFJpGkplIEKAvBiXm7mTFa9KNkuJWcjmwuKNDouYeHNTiYn7M0hFTD1V9FhAOiAUNaPdfbQLwIsLm3npcub0hRHmiACS8/aZqYB43HiFQuZpJFkxU8XP+IGSGAF5xGOvE7cRxiyhpuwifJK8d3u1RRfAZPn1/pwWVDEcMv8yKYmngFhxXyxu74txzmbuIsT89wJmFid4080sLp8g4+uh2E6cHC4gHQaq+ObTYM0ADRWBw0PEgVLmphHxsoLFIl6WnFgsGidXL4uvsvGZxcOVXsBRslfFd75VoydmEoTNbz2/7Ur8b4SAN87/WKGVV3+v4uTzBS71UW6uyMfpAAHkX4t3XouHSAQiUx/3yV5keus+oY/9hPH/0VYxxEBxmC03RRbY3JcU44uovsvGKYVy31sDk9mcq5KK/qZmjm1cTxvXCJ3XFoH7Ik7aMTI2oDhpubEdMqt4v3XOarNgyfZIiw2hDw/7br29LW6uzXmp3/sVKwMa6SMpekM4emNHeoNWWqNlesN0auODvzsxCat6cG0IAAAAAElFTkSuQmCC");
            background-size: contain;
            border: 1px solid rgba(70, 160, 80, 0.5);
            width: 54px;
            height: 54px;
        }
        g {
            transform: translate(5px, 43.671875px) scale(0.04296875, -0.04296875);
        }
        .sample {
            margin-top: -8px;
        }
        .sample>svg+svg {
            margin-left: 4px;
        }
        #math {
            font-family: 'Courier New', Courier, monospace;
            font-size: 19px;
            color: #666;
        }
        #math .question {
            text-align: center;
        }
        #math .question:first-child {
            text-align: left;
        }
        #math .question:last-child {
            text-align: right;
        }
        #math .question>i {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
            width: 36px;
            height: 36px;
            font-style: normal;
        }
        #math .box {
            border-bottom: 1px solid #aaa;
            color: blue;
        }
        .word {
            margin-bottom: 13px;
        }
    </style>
    <script>
        let isAnswerVisible = false
        document.addEventListener('keydown', evt => {
            if (evt.code === 'ControlLeft') {
                isAnswerVisible = !isAnswerVisible
                const answers = document.querySelector('#answers').textContent.split(',')
                document.querySelectorAll('.box')
                    .forEach((box, idx) => box.innerText = isAnswerVisible ? answers[idx] : '')
            }
        })
    </script>
    <script>
        const injectedStyles = Array.from({ length: 100 })
            .map(it => it + 1)
            .map((_, idx) =>
                `.sample > svg:nth-child(${idx}) { --char-index: ${idx}; }`
                + `path:nth-child(${idx}) { --stroke-index: ${idx}; }`
            )
            .join('\n')
        document.querySelector('#injected')?.remove()
        document.head.insertAdjacentHTML('beforeend', `<style id="injected">${injectedStyles}</style>`)
    </script>
</body>
</html>
