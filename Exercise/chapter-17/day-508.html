<html>
<head>
    <script src="https://cdn.tailwindcss.com/3.0.12"></script>
</head>
<body>
    <section id="output">
        <div id="math" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">466+40=?,1647-?=725,1552+?=2269
                29*18=?,21*63=?,1371*6=?
                875/5=?,4284/9=?,5810/7=?
                931-491=?+267,465+229+854-1337=?
                364+?-548=887,1484+842-592-1495=?
                ?-705+689=737,3469-1622-529-992=?</code>
            <code class="hidden" id="answers">506,922,717,522,1323,8226,175,476,830,173,211,1071,239,753,326</code>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>466</i><i>+</i><i>40</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>1647</i><i>-</i><i class="box"></i><i>=</i><i>725</i></div>
                <div class="question flex-1"><i>1552</i><i>+</i><i class="box"></i><i>=</i><i>2269</i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>29</i><i>×</i><i>18</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>21</i><i>×</i><i>63</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>1371</i><i>×</i><i>6</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>875</i><i>÷</i><i>5</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>4284</i><i>÷</i><i>9</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>5810</i><i>÷</i><i>7</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>931</i><i>-</i><i>491</i><i>=</i><i class="box"></i><i>+</i><i>267</i>
                </div>
                <div class="question flex-1"><i>465</i><i>+</i><i>229</i><i>+</i><i>854</i><i>-</i><i>1337</i><i>=</i><i
                       class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>364</i><i>+</i><i class="box"></i><i>-</i><i>548</i><i>=</i><i>887</i>
                </div>
                <div class="question flex-1">
                    <i>1484</i><i>+</i><i>842</i><i>-</i><i>592</i><i>-</i><i>1495</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i class="box"></i><i>-</i><i>705</i><i>+</i><i>689</i><i>=</i><i>737</i>
                </div>
                <div class="question flex-1">
                    <i>3469</i><i>-</i><i>1622</i><i>-</i><i>529</i><i>-</i><i>992</i><i>=</i><i class="box"></i>
                </div>
            </div>
        </div>
        <hr class="my-4">
        <div id="char" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">钻木取火</code>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char0">
                            <path d="M 314 633 Q 362 717 389 740 Q 398 750 394 764 Q 390 777 362 800 Q 337 819 317 818 Q 298 817 306 795 Q 319 762 307 735 Q 240 582 71 386 Q 61 376 59 370 Q 55 360 69 362 Q 124 369 290 598 Q 293 604 296 607 L 314 633 Z"></path>
                            <path d="M 296 607 Q 338 598 403 615 Q 467 633 478 638 Q 485 647 480 654 Q 473 664 445 668 Q 418 669 354 643 Q 333 639 314 633 C 285 624 267 613 296 607 Z"></path>
                            <path d="M 295 453 Q 364 477 434 502 Q 441 511 436 518 Q 429 528 401 531 Q 373 532 347 519 Q 322 507 293 497 Q 262 487 224 479 Q 191 469 217 457 Q 232 451 254 449 L 295 453 Z"></path>
                            <path d="M 325 312 Q 365 325 410 337 Q 447 349 453 354 Q 460 361 456 369 Q 449 379 421 384 Q 394 388 325 357 C 298 345 296 344 281 341 Q 280 342 278 341 Q 226 325 166 315 Q 133 306 158 293 Q 197 275 263 295 Q 270 298 282 300 L 325 312 Z"></path>
                            <path d="M 282 300 Q 282 186 249 138 Q 216 96 258 58 Q 270 51 280 66 Q 293 93 424 203 Q 440 215 444 223 Q 448 232 439 231 Q 427 231 329 175 Q 319 169 318 178 Q 324 251 325 312 L 325 357 Q 325 393 329 410 Q 333 423 324 432 Q 309 445 295 453 C 270 469 241 476 254 449 Q 255 448 257 443 Q 279 400 281 348 Q 281 345 281 341 L 282 300 Z"></path>
                            <path d="M 673 321 Q 677 427 679 526 L 680 559 Q 681 667 700 763 Q 703 773 683 789 Q 647 807 622 810 Q 606 814 598 805 Q 591 798 599 782 Q 627 742 628 715 Q 638 529 631 313 C 630 283 672 291 673 321 Z"></path>
                            <path d="M 679 526 Q 706 523 765 536 Q 805 548 848 559 Q 870 565 873 569 Q 880 576 876 585 Q 869 595 839 600 Q 818 603 734 572 Q 707 565 680 559 C 651 552 649 528 679 526 Z"></path>
                            <path d="M 538 299 Q 526 306 493 313 Q 480 317 477 312 Q 470 306 478 290 Q 509 217 523 99 Q 524 65 544 40 Q 560 18 567 33 Q 574 52 571 84 L 567 120 Q 551 229 547 266 C 544 296 544 296 538 299 Z"></path>
                            <path d="M 822 144 Q 846 249 882 280 Q 898 299 884 317 Q 866 330 813 354 Q 794 361 773 353 Q 721 334 673 321 L 631 313 Q 585 306 538 299 C 508 295 517 262 547 266 Q 575 269 752 303 Q 774 307 783 298 Q 795 288 793 267 Q 786 204 774 153 C 767 124 815 115 822 144 Z"></path>
                            <path d="M 571 84 Q 581 84 590 85 Q 666 100 834 108 Q 844 109 847 118 Q 847 125 822 144 L 774 153 Q 770 153 766 152 Q 655 130 567 120 C 537 117 541 83 571 84 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char1">
                            <path d="M 524 533 Q 537 536 755 560 Q 768 557 779 573 Q 780 586 754 600 Q 709 627 634 603 Q 526 582 524 580 L 479 572 Q 404 563 234 546 Q 200 542 226 521 Q 265 491 291 494 Q 309 503 446 521 L 524 533 Z"></path>
                            <path d="M 524 580 Q 524 682 544 758 Q 559 783 532 802 Q 516 814 485 833 Q 460 851 439 834 Q 433 828 440 813 Q 474 762 476 711 Q 477 647 479 572 L 477 458 Q 474 208 466 155 Q 442 46 456 5 Q 460 -7 466 -21 Q 473 -40 481 -43 Q 488 -50 495 -41 Q 504 -37 514 -15 Q 524 10 523 44 Q 522 90 523 480 L 524 580 Z"></path>
                            <path d="M 446 521 Q 368 337 127 132 Q 114 119 124 117 Q 134 113 146 119 Q 276 176 403 344 Q 472 450 477 458 C 528 538 464 563 446 521 Z"></path>
                            <path d="M 523 480 Q 607 338 716 186 Q 737 159 774 157 Q 901 147 942 150 Q 954 151 957 157 Q 957 164 941 173 Q 773 251 721 302 Q 628 398 523 532 Q 523 533 524 533 L 524 533 C 506 558 508 506 523 480 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char2">
                            <path d="M 419 734 Q 474 743 519 748 Q 529 747 537 759 Q 538 769 516 780 Q 489 801 387 771 Q 267 744 224 738 Q 182 734 136 727 Q 109 723 130 707 Q 163 683 191 690 L 240 701 Q 306 717 388 729 L 419 734 Z"></path>
                            <path d="M 191 690 Q 206 660 206 624 Q 207 587 208 272 C 208 242 250 254 250 284 Q 251 357 252 422 L 252 449 Q 253 500 254 545 L 255 576 Q 255 627 258 661 Q 265 685 240 701 C 217 720 179 717 191 690 Z"></path>
                            <path d="M 449 348 Q 450 469 450 597 Q 449 685 452 698 Q 455 710 446 717 Q 436 724 419 734 C 393 750 380 758 388 729 Q 388 728 390 725 Q 406 695 401 332 L 400 295 Q 400 163 389 46 Q 386 4 411 -29 Q 424 -44 433 -26 Q 460 26 453 71 Q 450 116 449 316 L 449 348 Z"></path>
                            <path d="M 254 545 Q 309 555 352 561 Q 374 565 365 577 Q 355 590 331 594 Q 283 597 255 576 C 231 559 224 540 254 545 Z"></path>
                            <path d="M 252 422 Q 258 422 349 440 Q 371 446 362 457 Q 350 470 326 472 Q 287 475 252 449 C 228 431 222 419 252 422 Z"></path>
                            <path d="M 449 316 Q 476 329 496 343 Q 509 350 510 360 Q 504 366 492 363 Q 470 356 449 348 L 401 332 Q 328 310 250 284 L 208 272 Q 121 248 90 249 Q 77 248 75 237 Q 74 224 82 214 Q 106 198 140 178 Q 150 175 163 184 Q 217 223 400 295 L 449 316 Z"></path>
                            <path d="M 705 325 Q 754 425 790 561 Q 800 595 819 617 Q 838 636 822 650 Q 806 662 770 671 Q 742 675 715 657 Q 625 620 530 604 Q 515 603 511 594 Q 507 587 527 579 Q 567 566 620 584 Q 684 609 696 610 Q 727 609 722 575 Q 706 466 665 370 L 641 328 Q 578 235 470 190 Q 457 183 471 176 Q 475 169 517 173 Q 599 185 677 282 L 705 325 Z"></path>
                            <path d="M 677 282 Q 765 171 803 161 Q 816 158 939 162 Q 952 163 966 167 Q 973 174 962 183 Q 947 193 829 239 Q 781 257 705 325 L 665 370 Q 620 422 573 490 Q 554 517 520 526 Q 508 530 498 524 Q 492 517 501 509 Q 508 502 515 497 Q 545 481 640 329 L 641 328 L 677 282 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char3">
                            <path d="M 226 483 Q 254 443 285 393 Q 295 375 312 372 Q 324 369 333 381 Q 342 396 342 430 Q 342 472 235 536 Q 220 543 213 543 Q 206 540 204 526 Q 205 513 226 483 Z"></path>
                            <path d="M 690 568 Q 677 547 584 441 Q 571 422 592 425 Q 638 449 738 513 Q 762 532 791 543 Q 816 553 805 575 Q 789 597 759 615 Q 731 633 715 629 Q 700 628 704 612 Q 708 590 690 568 Z"></path>
                            <path d="M 511 382 Q 520 439 529 618 Q 530 669 548 728 Q 554 741 543 750 Q 521 769 479 785 Q 454 795 434 789 Q 410 779 430 759 Q 464 725 465 690 Q 469 500 448 374 Q 427 209 284 106 Q 244 81 186 49 Q 170 43 167 39 Q 160 32 179 29 Q 197 28 258 48 Q 301 61 365 101 Q 414 131 442 172 Q 484 232 504 341 L 511 382 Z"></path>
                            <path d="M 504 341 Q 597 175 715 40 Q 740 9 767 9 Q 843 13 911 17 Q 939 18 940 25 Q 941 32 910 48 Q 753 117 709 157 Q 592 268 511 382 C 493 406 489 367 504 341 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
        </div>
        <hr class="my-4">
        <div id="english" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">No I am not</code>
            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-n.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-i.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-a.png">
                    <img class="letter" src="../../Generator/images/lower-m.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-t.png">
                </div>
            </div>
            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-n.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-i.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-a.png">
                    <img class="letter" src="../../Generator/images/lower-m.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-t.png">
                </div>
            </div>
            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-n.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-i.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-a.png">
                    <img class="letter" src="../../Generator/images/lowdot-m.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-t.png">
                </div>
            </div>
            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-n.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-i.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-a.png">
                    <img class="letter" src="../../Generator/images/lowdot-m.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-t.png">
                </div>
            </div>
        </div>
    </section>
    <style>
        path {
            --is-current: clamp(0,
                    calc(1 - (var(--char-index) - var(--stroke-index)) * (var(--char-index) - var(--stroke-index))),
                    1);
            --is-past: clamp(0,
                    calc(var(--char-index) - var(--stroke-index)),
                    1);
            --is-next: clamp(0,
                    calc(var(--stroke-index) - var(--char-index)),
                    1);
            --stroke-color: rgba(calc(85 * var(--is-past) + 187 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(1 - var(--is-next)));
            fill: var(--stroke-color);
        }
        :root {
            --is-gray: 0;
            --char-index: 100;
        }
        .write-them-down {
            --is-gray: 1;
        }
        #char svg {
            display: inline-block;
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAP1BMVEUAAABFoFBGoFBGoFBGoVFGn1BDn1JEoVNFp1hEoE9En1FHoVJKoldFoE9GoFBFoFBGn1NGoE9HoU9GoVBEn1Jj1l/OAAAAFXRSTlMAMma7X201CQUsIRUNs6uPKKF6STipww1qAAABtklEQVRo3u2b2Y6DMAxFfQnD2pbO8v/fOlKL5JFoUZMmXpict4qSIyEwxrEpgFJpGkplIEKAvBiXm7mTFa9KNkuJWcjmwuKNDouYeHNTiYn7M0hFTD1V9FhAOiAUNaPdfbQLwIsLm3npcub0hRHmiACS8/aZqYB43HiFQuZpJFkxU8XP+IGSGAF5xGOvE7cRxiyhpuwifJK8d3u1RRfAZPn1/pwWVDEcMv8yKYmngFhxXyxu74txzmbuIsT89wJmFid4080sLp8g4+uh2E6cHC4gHQaq+ObTYM0ADRWBw0PEgVLmphHxsoLFIl6WnFgsGidXL4uvsvGZxcOVXsBRslfFd75VoydmEoTNbz2/7Ur8b4SAN87/WKGVV3+v4uTzBS71UW6uyMfpAAHkX4t3XouHSAQiUx/3yV5keus+oY/9hPH/0VYxxEBxmC03RRbY3JcU44uovsvGKYVy31sDk9mcq5KK/qZmjm1cTxvXCJ3XFoH7Ik7aMTI2oDhpubEdMqt4v3XOarNgyfZIiw2hDw/7br29LW6uzXmp3/sVKwMa6SMpekM4emNHeoNWWqNlesN0auODvzsxCat6cG0IAAAAAElFTkSuQmCC");
            background-size: contain;
            border: 1px solid rgba(70, 160, 80, 0.5);
            width: 54px;
            height: 54px;
        }
        g {
            transform: translate(5px, 43.671875px) scale(0.04296875, -0.04296875);
        }
        .sample {
            margin-top: -8px;
        }
        .sample>svg+svg {
            margin-left: 4px;
        }
        #math {
            font-family: 'Courier New', Courier, monospace;
            font-size: 19px;
            color: #666;
        }
        #math .question {
            text-align: center;
        }
        #math .question:first-child {
            text-align: left;
        }
        #math .question:last-child {
            text-align: right;
        }
        #math .question>i {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
            width: 36px;
            height: 36px;
            font-style: normal;
        }
        #math .box {
            border-bottom: 1px solid #aaa;
            color: blue;
        }
        .word {
            margin-bottom: 13px;
        }
    </style>
    <script>
        let isAnswerVisible = false
        document.addEventListener('keydown', evt => {
            if (evt.code === 'ControlLeft') {
                isAnswerVisible = !isAnswerVisible
                const answers = document.querySelector('#answers').textContent.split(',')
                document.querySelectorAll('.box')
                    .forEach((box, idx) => box.innerText = isAnswerVisible ? answers[idx] : '')
            }
        })
    </script>
    <script>
        const injectedStyles = Array.from({ length: 100 })
            .map(it => it + 1)
            .map((_, idx) =>
                `.sample > svg:nth-child(${idx}) { --char-index: ${idx}; }`
                + `path:nth-child(${idx}) { --stroke-index: ${idx}; }`
            )
            .join('\n')
        document.querySelector('#injected')?.remove()
        document.head.insertAdjacentHTML('beforeend', `<style id="injected">${injectedStyles}</style>`)
    </script>
</body>
</html>
