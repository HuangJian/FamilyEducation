<html>
<head>
    <script src="https://cdn.tailwindcss.com/3.0.12"></script>
</head>
<body>
    <section id="output">
        <div id="math" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">631+760=?,1666-?=736,1504+?=1856
                44*7=?,8*688=?,1897*5=?
                846/6=?,4239/9=?,5836/4=?
                905-473=?+250,460+256+814-1326=?
                360+?-579=825,1445+881-513-1455=?
                ?-703+605=756,3420-1638-566-971=?</code>
            <code class="hidden" id="answers">1391,930,352,308,5504,9485,141,471,1459,182,204,1044,358,854,245</code>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>631</i><i>+</i><i>760</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>1666</i><i>-</i><i class="box"></i><i>=</i><i>736</i></div>
                <div class="question flex-1"><i>1504</i><i>+</i><i class="box"></i><i>=</i><i>1856</i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>44</i><i>×</i><i>7</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>8</i><i>×</i><i>688</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>1897</i><i>×</i><i>5</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>846</i><i>÷</i><i>6</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>4239</i><i>÷</i><i>9</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>5836</i><i>÷</i><i>4</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>905</i><i>-</i><i>473</i><i>=</i><i class="box"></i><i>+</i><i>250</i>
                </div>
                <div class="question flex-1"><i>460</i><i>+</i><i>256</i><i>+</i><i>814</i><i>-</i><i>1326</i><i>=</i><i
                       class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>360</i><i>+</i><i class="box"></i><i>-</i><i>579</i><i>=</i><i>825</i>
                </div>
                <div class="question flex-1">
                    <i>1445</i><i>+</i><i>881</i><i>-</i><i>513</i><i>-</i><i>1455</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i class="box"></i><i>-</i><i>703</i><i>+</i><i>605</i><i>=</i><i>756</i>
                </div>
                <div class="question flex-1">
                    <i>3420</i><i>-</i><i>1638</i><i>-</i><i>566</i><i>-</i><i>971</i><i>=</i><i class="box"></i></div>
            </div>
        </div>
        <hr class="my-4">
        <div id="char" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">一叶障目</code>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char0"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char0">
                            <path d="M 518 382 Q 572 385 623 389 Q 758 399 900 383 Q 928 379 935 390 Q 944 405 930 419 Q 896 452 845 475 Q 829 482 798 473 Q 723 460 480 434 Q 180 409 137 408 Q 130 408 124 408 Q 108 408 106 395 Q 105 380 127 363 Q 146 348 183 334 Q 195 330 216 338 Q 232 344 306 354 Q 400 373 518 382 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char1">
                            <path d="M 160 553 Q 147 560 115 566 Q 102 570 97 564 Q 90 557 99 539 Q 132 464 148 343 Q 151 306 171 281 Q 190 256 196 274 Q 205 296 200 338 L 194 374 Q 176 495 174 525 C 172 548 172 548 160 553 Z"></path>
                            <path d="M 338 411 Q 351 508 377 540 Q 399 568 374 581 Q 353 591 324 608 Q 303 620 264 591 Q 224 572 160 553 C 131 544 146 514 174 525 Q 175 528 264 552 Q 289 559 296 549 Q 306 542 299 500 Q 293 457 284 406 C 279 376 334 381 338 411 Z"></path>
                            <path d="M 200 338 Q 224 350 359 376 Q 369 379 370 388 Q 370 395 338 411 C 321 420 312 416 284 406 Q 235 388 194 374 C 166 364 172 326 200 338 Z"></path>
                            <path d="M 666 443 Q 751 455 877 457 Q 940 457 945 468 Q 951 481 932 496 Q 866 541 804 520 Q 746 508 667 491 L 608 480 Q 506 464 389 445 Q 367 442 384 423 Q 400 408 420 403 Q 444 399 461 404 Q 528 423 608 435 L 666 443 Z"></path>
                            <path d="M 608 435 Q 614 330 605 150 Q 602 -30 623 -68 Q 639 -84 649 -61 Q 665 -12 666 443 L 667 491 Q 668 722 689 756 Q 698 783 679 798 Q 652 819 606 830 Q 585 836 571 821 Q 561 812 574 799 Q 605 774 607 737 Q 608 646 608 480 L 608 435 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char2">
                            <path d="M 212 714 Q 246 721 284 737 Q 300 746 311 736 Q 318 729 309 709 Q 293 667 280 625 Q 270 603 282 586 Q 339 493 323 475 Q 319 466 300 467 Q 276 470 251 467 Q 229 467 254 455 Q 299 433 340 406 Q 353 394 366 406 Q 379 416 385 440 Q 400 500 326 578 Q 295 615 331 664 Q 364 719 384 734 Q 402 746 392 758 Q 380 774 345 792 Q 326 799 313 788 Q 262 752 199 740 C 170 733 183 707 212 714 Z"></path>
                            <path d="M 199 740 Q 184 755 159 763 Q 149 769 135 764 Q 128 758 134 745 Q 159 649 161 641 Q 161 631 162 616 Q 177 385 147 214 Q 119 115 152 68 Q 155 64 160 58 Q 172 43 183 57 Q 204 82 202 211 Q 206 665 211 695 Q 212 707 212 714 C 213 729 213 729 199 740 Z"></path>
                            <path d="M 600 829 Q 622 814 646 796 Q 661 786 676 789 Q 686 790 689 804 Q 690 819 678 846 Q 671 861 644 868 Q 578 880 567 871 Q 563 867 567 855 Q 571 845 600 829 Z"></path>
                            <path d="M 707 737 Q 794 758 799 762 Q 806 769 803 777 Q 796 787 770 795 Q 743 799 633 764 Q 578 749 484 738 Q 451 732 475 717 Q 514 696 564 707 Q 619 719 680 731 L 707 737 Z"></path>
                            <path d="M 503 665 Q 533 610 553 604 Q 563 601 570 615 Q 573 625 569 641 Q 563 654 547 664 Q 522 682 510 685 Q 503 688 501 679 Q 498 673 503 665 Z"></path>
                            <path d="M 684 610 Q 700 631 723 663 Q 729 672 739 682 Q 752 692 745 702 Q 738 717 712 734 Q 709 735 707 737 C 682 753 671 760 680 731 Q 680 730 682 725 Q 688 707 665 630 Q 658 617 657 605 C 653 575 666 586 684 610 Z"></path>
                            <path d="M 657 605 Q 641 604 625 599 Q 517 581 390 560 Q 371 557 386 543 Q 399 531 415 527 Q 434 523 449 527 Q 636 584 884 584 L 886 584 Q 904 585 908 593 Q 912 603 897 615 Q 846 651 778 630 Q 736 623 684 610 L 657 605 Z"></path>
                            <path d="M 485 485 Q 472 489 454 492 Q 444 493 440 489 Q 436 485 443 470 Q 471 415 489 326 Q 493 299 509 282 Q 525 263 530 277 Q 533 286 533 298 L 531 320 Q 521 372 519 379 L 514 401 Q 507 438 505 454 C 501 480 501 480 485 485 Z"></path>
                            <path d="M 712 316 Q 712 312 715 306 Q 719 291 731 293 Q 744 294 750 308 Q 760 321 780 390 Q 793 438 826 465 Q 842 481 828 494 Q 812 510 765 533 Q 750 540 687 524 Q 660 524 561 500 Q 518 491 485 485 C 456 480 476 448 505 454 Q 509 454 514 455 Q 572 474 704 493 Q 728 494 736 491 Q 745 487 741 459 Q 725 360 716 338 L 712 316 Z"></path>
                            <path d="M 519 379 Q 523 378 531 379 Q 613 392 675 399 Q 696 402 689 413 Q 679 426 657 431 Q 633 434 514 401 C 485 393 489 382 519 379 Z"></path>
                            <path d="M 624 306 Q 669 312 712 316 C 742 319 741 321 716 338 Q 709 344 695 347 Q 677 351 531 320 C 502 314 503 300 533 298 Q 539 297 549 298 Q 561 299 573 300 L 624 306 Z"></path>
                            <path d="M 649 185 Q 730 194 925 194 Q 946 194 951 203 Q 957 215 940 229 Q 886 269 847 261 Q 772 246 651 226 L 592 218 Q 477 205 341 187 Q 319 186 335 167 Q 350 152 368 147 Q 390 141 407 146 Q 494 170 593 179 L 649 185 Z"></path>
                            <path d="M 600 -58 Q 604 -80 611 -89 Q 615 -96 623 -94 Q 635 -85 642 -32 Q 642 -26 649 185 L 651 226 Q 651 232 657 267 Q 660 283 647 292 Q 634 301 624 306 C 598 321 563 328 573 300 Q 588 260 592 218 L 593 179 Q 597 -50 600 -58 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char3">
                            <path d="M 329 714 Q 320 723 298 731 Q 286 737 273 732 Q 266 726 272 712 Q 275 699 281 685 Q 309 624 291 287 Q 285 239 271 184 Q 256 121 295 70 Q 308 54 320 69 Q 335 87 334 115 L 338 152 Q 339 180 340 216 Q 341 280 342 336 L 342 369 Q 343 439 345 493 L 346 525 Q 349 646 351 660 Q 352 670 352 677 C 353 698 353 698 329 714 Z"></path>
                            <path d="M 597 135 Q 637 86 665 43 Q 675 22 688 23 Q 707 24 724 63 Q 743 108 739 161 Q 726 329 717 637 Q 716 674 735 699 Q 745 714 735 725 Q 713 747 653 775 Q 632 785 614 775 Q 494 727 329 714 C 299 711 322 673 352 677 Q 361 677 586 717 Q 620 723 636 710 Q 676 667 660 203 Q 657 181 656 163 Q 652 144 633 149 C 608 132 591 142 597 135 Z"></path>
                            <path d="M 345 493 Q 369 486 539 511 Q 542 512 548 512 Q 581 518 586 522 Q 593 529 590 537 Q 584 549 558 556 Q 530 563 503 553 Q 466 543 426 535 Q 389 529 346 525 C 316 522 315 498 345 493 Z"></path>
                            <path d="M 342 336 Q 382 329 540 348 Q 544 349 550 349 Q 584 353 589 358 Q 598 365 594 373 Q 588 385 562 393 Q 535 400 507 392 Q 470 382 428 376 Q 388 370 342 369 C 312 368 312 340 342 336 Z"></path>
                            <path d="M 334 115 Q 376 130 597 135 C 627 136 641 136 633 149 Q 630 159 604 178 Q 588 188 554 183 Q 436 161 338 152 C 308 149 305 107 334 115 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
        </div>
        <hr class="my-4">
        <div id="english" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">Good morning</code>
            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-g.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-d.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-m.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-r.png">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                    <img class="letter" src="../../Generator/images/lower-i.png">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                    <img class="letter" src="../../Generator/images/lower-g.png">
                </div>
            </div>

            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-g.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-d.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-m.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-r.png">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                    <img class="letter" src="../../Generator/images/lower-i.png">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                    <img class="letter" src="../../Generator/images/lower-g.png">
                </div>
            </div>

            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-g.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-d.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-m.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-r.png">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                    <img class="letter" src="../../Generator/images/lowdot-i.png">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                    <img class="letter" src="../../Generator/images/lowdot-g.png">
                </div>
            </div>

            <div class="flex w-100 justify-between">
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-g.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-d.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-m.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-r.png">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                    <img class="letter" src="../../Generator/images/lowdot-i.png">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                    <img class="letter" src="../../Generator/images/lowdot-g.png">
                </div>
            </div>
        </div>
    </section>
    <style>
        path {
            --is-current: clamp(0,
                    calc(1 - (var(--char-index) - var(--stroke-index)) * (var(--char-index) - var(--stroke-index))),
                    1);
            --is-past: clamp(0,
                    calc(var(--char-index) - var(--stroke-index)),
                    1);
            --is-next: clamp(0,
                    calc(var(--stroke-index) - var(--char-index)),
                    1);

            --stroke-color: rgba(calc(85 * var(--is-past) + 187 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(1 - var(--is-next)));
            fill: var(--stroke-color);
        }
        :root {
            --is-gray: 0;
            --char-index: 100;
        }
        .write-them-down {
            --is-gray: 1;
        }
        #char svg {
            display: inline-block;
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAP1BMVEUAAABFoFBGoFBGoFBGoVFGn1BDn1JEoVNFp1hEoE9En1FHoVJKoldFoE9GoFBFoFBGn1NGoE9HoU9GoVBEn1Jj1l/OAAAAFXRSTlMAMma7X201CQUsIRUNs6uPKKF6STipww1qAAABtklEQVRo3u2b2Y6DMAxFfQnD2pbO8v/fOlKL5JFoUZMmXpict4qSIyEwxrEpgFJpGkplIEKAvBiXm7mTFa9KNkuJWcjmwuKNDouYeHNTiYn7M0hFTD1V9FhAOiAUNaPdfbQLwIsLm3npcub0hRHmiACS8/aZqYB43HiFQuZpJFkxU8XP+IGSGAF5xGOvE7cRxiyhpuwifJK8d3u1RRfAZPn1/pwWVDEcMv8yKYmngFhxXyxu74txzmbuIsT89wJmFid4080sLp8g4+uh2E6cHC4gHQaq+ObTYM0ADRWBw0PEgVLmphHxsoLFIl6WnFgsGidXL4uvsvGZxcOVXsBRslfFd75VoydmEoTNbz2/7Ur8b4SAN87/WKGVV3+v4uTzBS71UW6uyMfpAAHkX4t3XouHSAQiUx/3yV5keus+oY/9hPH/0VYxxEBxmC03RRbY3JcU44uovsvGKYVy31sDk9mcq5KK/qZmjm1cTxvXCJ3XFoH7Ik7aMTI2oDhpubEdMqt4v3XOarNgyfZIiw2hDw/7br29LW6uzXmp3/sVKwMa6SMpekM4emNHeoNWWqNlesN0auODvzsxCat6cG0IAAAAAElFTkSuQmCC");
            background-size: contain;
            border: 1px solid rgba(70, 160, 80, 0.5);
            width: 54px;
            height: 54px;
        }
        g {
            transform: translate(5px, 43.671875px) scale(0.04296875, -0.04296875);
        }
        .sample {
            margin-top: -8px;
        }
        .sample>svg+svg {
            margin-left: 4px;
        }
        #math {
            font-family: 'Courier New', Courier, monospace;
            font-size: 19px;
            color: #666;
        }
        #math .question {
            text-align: center;
        }
        #math .question:first-child {
            text-align: left;
        }
        #math .question:last-child {
            text-align: right;
        }
        #math .question>i {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
            width: 36px;
            height: 36px;
            font-style: normal;
        }
        #math .box {
            border-bottom: 1px solid #aaa;
            color: blue;
        }
        .word {
            margin-bottom: 13px;
        }
    </style>
    <script>
        let isAnswerVisible = false
        document.addEventListener('keydown', evt => {
            if (evt.code === 'ControlLeft') {
                isAnswerVisible = !isAnswerVisible
                const answers = document.querySelector('#answers').textContent.split(',')
                document.querySelectorAll('.box')
                    .forEach((box, idx) => box.innerText = isAnswerVisible ? answers[idx] : '')
            }
        })
    </script>
    <script>
        const injectedStyles = Array.from({ length: 100 })
            .map(it => it + 1)
            .map((_, idx) =>
                `.sample > svg:nth-child(${idx}) { --char-index: ${idx}; }`
                + `path:nth-child(${idx}) { --stroke-index: ${idx}; }`
            )
            .join('\n')
        document.querySelector('#injected')?.remove()
        document.head.insertAdjacentHTML('beforeend', `<style id="injected">${injectedStyles}</style>`)
    </script>
</body>
</html>
