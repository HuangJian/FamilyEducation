<html>
<head>
    <script src="https://cdn.tailwindcss.com/3.0.12"></script>
</head>
<body>
    <section id="output">
        <div id="math" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">
                32+?=98,25+?=72,93+?=155
                ?-31=42,?-58=73,?-36=160
                99-?=43,128-?=77,161-?=121
                32+46=?,63+77=?,137+142=?
                3*7=?,4*6=?,7*9=?
                ---
                ?-25=74-52,18+25+27+33=?
                63-37=?+13,54+34+44-112=?
                45+?+45=159,76+67-87-23=?
                25+?-39=77,200-17-69-37=?
            </code>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>32</i><i>+</i><i class="box"></i><i>=</i><i>98</i>
                </div>
                <div class="question flex-1">
                    <i>25</i><i>+</i><i class="box"></i><i>=</i><i>72</i>
                </div>
                <div class="question flex-1">
                    <i>93</i><i>+</i><i class="box"></i><i>=</i><i>155</i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i class="box"></i><i>-</i><i>31</i><i>=</i><i>42</i>
                </div>
                <div class="question flex-1">
                    <i class="box"></i><i>-</i><i>58</i><i>=</i><i>73</i>
                </div>
                <div class="question flex-1">
                    <i class="box"></i><i>-</i><i>36</i><i>=</i><i>160</i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>99</i><i>-</i><i class="box"></i><i>=</i><i>43</i>
                </div>
                <div class="question flex-1">
                    <i>128</i><i>-</i><i class="box"></i><i>=</i><i>77</i>
                </div>
                <div class="question flex-1">
                    <i>161</i><i>-</i><i class="box"></i><i>=</i><i>121</i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>32</i><i>+</i><i>46</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>63</i><i>+</i><i>77</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>137</i><i>+</i><i>142</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>3</i><i>×</i><i>7</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>4</i><i>×</i><i>6</i><i>=</i><i class="box"></i>
                </div>
                <div class="question flex-1">
                    <i>7</i><i>×</i><i>9</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <hr class="mt-2">
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i class="box"></i><i>-</i><i>25</i><i>=</i><i>74</i><i>-</i><i>52</i>
                </div>
                <div class="question flex-1">
                    <i>18</i><i>+</i><i>25</i><i>+</i><i>27</i><i>+</i><i>33</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>63</i><i>-</i><i>37</i><i>=</i><i class="box"></i><i>+</i><i>13</i>
                </div>
                <div class="question flex-1">
                    <i>54</i><i>+</i><i>34</i><i>+</i><i>44</i><i>-</i><i>112</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>45</i><i>+</i><i class="box"></i><i>+</i><i>45</i><i>=</i><i>159</i>
                </div>
                <div class="question flex-1">
                    <i>76</i><i>+</i><i>67</i><i>-</i><i>87</i><i>-</i><i>23</i><i>=</i><i class="box"></i>
                </div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1">
                    <i>25</i><i>+</i><i class="box"></i><i>-</i><i>39</i><i>=</i><i>77</i>
                </div>
                <div class="question flex-1">
                    <i>200</i><i>-</i><i>17</i><i>-</i><i>69</i><i>-</i><i>37</i><i>=</i><i class="box"></i>
                </div>
            </div>
        </div>
        <hr class="my-2">
        <div id="char" class="flex flex-col max-w-2xl mx-auto"><code class="hidden">曲项向天歌</code>
            <div class="flex scale-[0.7] origin-left w-fit sample">
                <svg>
                    <use href="#char0"></use>
                </svg>
                <svg>
                    <use href="#char0"></use>
                </svg>
                <svg>
                    <use href="#char0"></use>
                </svg>
                <svg>
                    <use href="#char0"></use>
                </svg>
                <svg>
                    <use href="#char0"></use>
                </svg>
                <svg>
                    <use href="#char0"></use>
                </svg>
            </div>
            <div class="write-them-down flex w-100 justify-between">
                <svg>
                    <g transform="translate(5, 43.671875) scale(0.04296875, -0.04296875)" id="char0">
                        <path d="M 240 523 Q 210 542 180 549 Q 171 552 165 546 Q 155 539 167 525 Q 225 432 236 204 Q 237 132 282 98 Q 283 97 287 95 Q 306 91 308 122 L 307 163 Q 304 185 297 211 Q 273 364 266 488 C 265 508 265 508 240 523 Z"></path>
                        <path d="M 673 154 Q 719 88 729 56 Q 739 38 750 40 Q 766 41 782 69 Q 810 109 823 160 Q 844 226 870 464 Q 874 507 889 530 Q 910 552 895 559 Q 879 577 838 596 Q 813 614 785 604 Q 751 594 663 585 Q 644 584 626 581 L 577 576 Q 504 569 445 559 L 397 550 Q 391 551 387 549 Q 311 534 240 523 C 210 518 237 481 266 488 Q 299 498 353 506 Q 377 510 401 513 L 445 520 Q 515 532 576 537 L 624 541 Q 684 548 775 552 Q 791 553 798 544 Q 808 537 804 491 Q 794 299 759 192 Q 750 162 725 167 Q 721 170 713 171 C 683 170 662 170 673 154 Z"></path>
                        <path d="M 612 359 Q 655 365 697 369 Q 719 370 712 384 Q 703 400 678 406 Q 654 410 615 402 L 570 394 Q 509 384 452 373 L 409 367 Q 373 363 340 357 Q 324 354 343 338 Q 359 325 396 330 Q 403 331 411 331 L 454 338 Q 512 347 567 353 L 612 359 Z"></path>
                        <path d="M 445 559 Q 444 638 448 661 Q 452 688 435 702 Q 408 723 376 733 Q 360 739 350 732 Q 340 725 348 707 Q 382 635 396 561 Q 396 557 397 550 L 401 513 Q 405 461 409 367 L 411 331 Q 412 264 418 175 C 420 145 466 151 464 181 Q 458 266 454 338 L 452 373 Q 445 487 445 520 L 445 559 Z"></path>
                        <path d="M 626 581 Q 629 671 659 782 Q 663 795 640 812 Q 601 834 573 840 Q 555 844 546 835 Q 537 826 546 809 Q 580 754 579 718 Q 579 649 577 576 L 576 537 Q 573 468 570 394 L 567 353 Q 561 277 554 195 C 551 165 599 173 601 203 Q 605 282 612 359 L 615 402 Q 619 472 624 541 L 626 581 Z"></path>
                        <path d="M 308 122 Q 309 122 312 122 Q 427 144 673 154 C 703 155 724 156 713 171 Q 709 181 680 203 Q 655 218 601 203 L 554 195 Q 508 188 464 181 L 418 175 Q 360 169 307 163 C 277 160 278 118 308 122 Z"></path>
                    </g>
                </svg>
                <svg>
                    <use href="#char0"></use>
                </svg>
                <svg>
                    <use href="#char0"></use>
                </svg>
                <svg>
                    <use href="#char0"></use>
                </svg>
                <svg>
                    <use href="#char0"></use>
                </svg>
                <svg>
                    <use href="#char0"></use>
                </svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
            </div>
            <div class="flex scale-[0.7] origin-left w-fit sample">
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
            </div>
            <div class="write-them-down flex w-100 justify-between">
                <svg>
                    <g transform="translate(5, 43.671875) scale(0.04296875, -0.04296875)" id="char1">
                        <path d="M 287 628 Q 419 668 421 669 Q 428 676 424 685 Q 417 695 387 701 Q 369 704 271 670 Q 208 655 175 649 Q 139 640 166 626 Q 205 608 253 619 L 287 628 Z"></path>
                        <path d="M 307 401 Q 316 558 321 574 Q 328 590 320 601 Q 304 617 287 628 C 262 645 240 646 253 619 Q 265 601 265 518 Q 264 472 264 386 C 264 356 305 371 307 401 Z"></path>
                        <path d="M 264 386 Q 209 370 152 351 Q 133 345 101 345 Q 88 344 86 332 Q 85 319 94 310 Q 118 294 153 276 Q 163 273 175 283 Q 209 310 386 396 Q 411 408 429 423 Q 442 430 442 440 Q 436 446 424 443 Q 369 424 307 401 L 264 386 Z"></path>
                        <path d="M 624 715 Q 688 733 855 739 Q 903 739 908 749 Q 912 759 897 771 Q 852 802 792 788 Q 693 767 470 724 Q 451 721 466 707 Q 479 695 496 691 Q 515 687 529 692 Q 557 701 588 707 L 624 715 Z"></path>
                        <path d="M 575 568 Q 594 589 625 637 Q 632 649 646 664 Q 659 674 653 684 Q 646 699 624 715 C 600 733 584 737 588 707 Q 594 679 558 591 Q 551 576 549 564 C 543 535 555 545 575 568 Z"></path>
                        <path d="M 528 562 Q 509 578 485 584 Q 478 585 471 578 Q 468 574 475 563 Q 514 469 484 302 Q 471 244 474 230 Q 483 199 494 188 Q 504 175 513 188 Q 537 216 538 369 Q 538 496 544 535 C 546 549 546 549 528 562 Z"></path>
                        <path d="M 748 268 Q 741 244 754 222 Q 769 194 778 194 Q 793 195 808 229 Q 823 254 821 276 Q 793 489 831 547 Q 841 565 821 582 Q 796 600 759 616 Q 743 620 720 612 Q 669 590 575 568 L 549 564 Q 539 564 528 562 C 498 559 515 528 544 535 Q 598 547 637 556 Q 719 578 738 566 Q 748 544 753 483 Q 757 302 748 268 Z"></path>
                        <path d="M 612 396 Q 613 192 563 115 Q 544 84 508 58 Q 474 33 397 0 Q 385 -4 382 -7 Q 378 -11 391 -15 Q 469 -21 569 49 Q 582 61 593 73 Q 647 142 658 313 Q 661 386 675 423 Q 679 433 672 440 Q 627 482 590 471 Q 572 464 587 449 Q 612 422 612 396 Z"></path>
                        <path d="M 703 139 Q 758 78 822 -9 Q 837 -31 852 -37 Q 861 -38 869 -30 Q 882 -17 875 28 Q 869 85 707 171 Q 698 177 695 165 Q 694 152 703 139 Z"></path>
                    </g>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg>
                    <use href="#char1"></use>
                </svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
            </div>
            <div class="flex scale-[0.7] origin-left w-fit sample">
                <svg>
                    <use href="#char2"></use>
                </svg>
                <svg>
                    <use href="#char2"></use>
                </svg>
                <svg>
                    <use href="#char2"></use>
                </svg>
                <svg>
                    <use href="#char2"></use>
                </svg>
                <svg>
                    <use href="#char2"></use>
                </svg>
                <svg>
                    <use href="#char2"></use>
                </svg>
            </div>
            <div class="write-them-down flex w-100 justify-between">
                <svg>
                    <g transform="translate(5, 43.671875) scale(0.04296875, -0.04296875)" id="char2">
                        <path d="M 351 538 Q 366 553 518 718 Q 537 740 562 756 Q 584 772 569 790 Q 550 806 518 818 Q 488 830 474 824 Q 459 820 467 805 Q 479 769 352 582 Q 334 558 317 531 C 301 506 330 516 351 538 Z"></path>
                        <path d="M 218 515 Q 196 528 173 536 Q 164 539 158 533 Q 149 527 160 513 Q 217 405 211 160 Q 211 88 250 54 Q 251 53 255 51 Q 276 44 278 80 Q 278 95 260 292 Q 251 397 252 473 C 252 496 244 501 218 515 Z"></path>
                        <path d="M 252 473 Q 271 494 581 533 Q 650 540 778 549 Q 796 550 802 541 Q 812 532 810 478 Q 806 249 771 121 Q 761 81 727 87 Q 690 94 657 99 Q 642 105 642 97 Q 641 90 653 77 Q 728 16 748 -17 Q 760 -36 773 -33 Q 791 -30 808 2 Q 836 51 847 107 Q 865 183 878 456 Q 881 505 895 532 Q 916 556 900 563 Q 882 581 839 600 Q 815 615 754 599 Q 720 593 661 586 Q 450 565 351 538 L 317 531 Q 265 524 218 515 C 188 510 224 462 252 473 Z"></path>
                        <path d="M 395 384 Q 383 388 360 393 Q 348 396 345 391 Q 338 385 347 369 Q 374 311 389 218 Q 392 190 408 172 Q 426 150 431 165 Q 435 175 435 191 L 433 224 Q 418 326 415 354 C 412 379 412 379 395 384 Z"></path>
                        <path d="M 614 248 Q 639 326 672 354 Q 688 372 674 390 Q 605 445 545 419 Q 485 400 395 384 C 365 379 385 350 415 354 Q 428 355 443 359 Q 570 381 578 375 Q 587 368 585 349 Q 576 295 564 252 C 556 223 605 220 614 248 Z"></path>
                        <path d="M 435 191 Q 439 190 451 192 Q 506 204 628 214 Q 638 215 640 224 Q 640 231 614 248 L 564 252 L 563 252 Q 493 234 433 224 C 403 219 405 192 435 191 Z"></path>
                    </g>
                </svg>
                <svg>
                    <use href="#char2"></use>
                </svg>
                <svg>
                    <use href="#char2"></use>
                </svg>
                <svg>
                    <use href="#char2"></use>
                </svg>
                <svg>
                    <use href="#char2"></use>
                </svg>
                <svg>
                    <use href="#char2"></use>
                </svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
            </div>
            <div class="flex scale-[0.7] origin-left w-fit sample">
                <svg>
                    <use href="#char3"></use>
                </svg>
                <svg>
                    <use href="#char3"></use>
                </svg>
                <svg>
                    <use href="#char3"></use>
                </svg>
                <svg>
                    <use href="#char3"></use>
                </svg>
            </div>
            <div class="write-them-down flex w-100 justify-between">
                <svg>
                    <g transform="translate(5, 43.671875) scale(0.04296875, -0.04296875)" id="char3">
                        <path d="M 499 681 Q 581 697 671 713 Q 726 725 734 732 Q 744 741 739 750 Q 732 763 699 773 Q 666 780 562 747 Q 439 719 336 709 Q 294 703 324 684 Q 369 659 430 668 L 499 681 Z"></path>
                        <path d="M 509 439 Q 615 454 771 455 Q 843 455 848 465 Q 854 478 836 493 Q 781 532 739 524 Q 652 505 506 478 L 447 470 Q 323 452 181 432 Q 159 429 175 411 Q 208 381 250 391 Q 340 416 442 430 L 509 439 Z"></path>
                        <path d="M 506 478 Q 512 583 534 637 Q 540 650 530 658 Q 518 670 499 681 C 474 698 413 693 430 668 Q 455 637 455 606 Q 454 531 447 470 L 442 430 Q 412 253 320 176 Q 232 113 145 75 Q 130 71 127 66 Q 121 60 138 57 Q 214 51 362 143 Q 390 167 413 194 Q 470 267 494 405 L 506 478 Z"></path>
                        <path d="M 494 405 Q 629 144 722 51 Q 740 33 762 31 Q 847 30 920 27 Q 951 26 952 33 Q 953 42 920 59 Q 752 134 710 180 Q 601 294 515 430 Q 511 434 509 439 C 493 464 473 446 494 405 Z"></path>
                    </g>
                </svg>
                <svg>
                    <use href="#char3"></use>
                </svg>
                <svg>
                    <use href="#char3"></use>
                </svg>
                <svg>
                    <use href="#char3"></use>
                </svg>
                <svg>
                    <use href="#char3"></use>
                </svg>
                <svg>
                    <use href="#char3"></use>
                </svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
            </div>
            <div class="flex scale-[0.7] origin-left w-fit sample">
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
            </div>
            <div class="write-them-down flex w-100 justify-between">
                <svg>
                    <g transform="translate(5, 43.671875) scale(0.04296875, -0.04296875)" id="char4">
                        <path d="M 452 723 Q 461 727 471 728 Q 513 738 519 743 Q 528 750 523 760 Q 516 772 486 779 Q 455 786 424 773 Q 378 757 326 745 Q 268 732 202 726 Q 165 720 191 702 Q 234 678 291 691 Q 352 704 419 717 L 452 723 Z"></path>
                        <path d="M 204 610 Q 194 614 180 615 Q 170 616 168 613 Q 164 609 171 596 Q 190 562 205 505 Q 208 487 219 477 Q 234 461 237 473 Q 238 479 239 487 L 236 512 Q 226 573 224 589 C 222 604 222 604 204 610 Z"></path>
                        <path d="M 351 533 Q 364 576 379 590 Q 398 612 378 623 Q 362 633 339 647 Q 323 656 308 647 Q 287 634 261 625 Q 239 618 204 610 C 175 603 195 581 224 589 Q 224 590 290 604 Q 309 608 314 601 Q 317 598 305 532 C 300 502 342 504 351 533 Z"></path>
                        <path d="M 239 487 Q 248 486 258 488 Q 291 498 364 507 Q 371 508 373 516 Q 373 522 351 533 C 335 541 334 541 305 532 Q 265 520 236 512 C 207 504 209 489 239 487 Z"></path>
                        <path d="M 419 717 Q 434 669 416 576 Q 401 513 431 483 L 432 482 Q 447 473 455 501 Q 464 529 464 568 Q 473 640 484 670 Q 488 682 479 697 Q 466 712 452 723 C 429 742 411 746 419 717 Z"></path>
                        <path d="M 427 404 Q 458 408 494 411 Q 512 412 512 420 Q 515 433 496 443 Q 469 458 445 453 Q 175 408 68 403 Q 55 403 51 395 Q 47 385 62 371 Q 101 340 144 352 Q 285 389 386 400 L 427 404 Z"></path>
                        <path d="M 193 306 Q 183 312 155 316 Q 145 319 142 314 Q 138 310 144 295 Q 166 255 179 187 Q 182 168 194 154 Q 210 135 214 149 Q 217 159 216 174 L 212 204 Q 202 264 202 283 C 201 302 201 302 193 306 Z"></path>
                        <path d="M 329 219 Q 345 271 362 286 Q 381 307 362 319 Q 310 347 308 347 Q 299 348 292 343 Q 264 325 193 306 C 164 298 173 274 202 283 Q 208 286 274 300 Q 293 304 298 297 Q 302 293 287 225 C 281 196 320 190 329 219 Z"></path>
                        <path d="M 216 174 Q 220 174 225 175 Q 261 185 339 193 Q 348 194 349 202 Q 349 208 329 219 L 287 225 Q 281 225 281 224 Q 242 212 212 204 C 183 196 186 172 216 174 Z"></path>
                        <path d="M 454 89 Q 454 260 459 321 Q 468 376 427 404 C 404 423 378 429 386 400 Q 386 397 388 393 Q 401 356 401 239 Q 402 101 389 69 Q 385 56 360 59 Q 338 63 313 67 Q 300 67 299 61 Q 298 54 308 44 Q 369 -8 389 -40 Q 404 -53 414 -52 Q 427 -48 439 -12 Q 455 21 454 79 L 454 89 Z"></path>
                        <path d="M 622 555 Q 625 561 629 567 Q 662 621 696 702 Q 709 739 723 758 Q 730 770 724 782 Q 717 794 687 810 Q 659 823 640 819 Q 624 815 634 795 Q 649 774 645 753 Q 632 683 604 615 Q 577 549 537 474 Q 530 464 528 457 Q 527 445 540 450 Q 561 459 605 527 L 622 555 Z"></path>
                        <path d="M 605 527 Q 620 517 648 525 Q 759 570 791 562 Q 801 550 796 543 Q 797 537 755 464 Q 748 454 753 449 Q 757 443 768 455 Q 862 524 904 541 Q 914 544 914 552 Q 915 565 887 578 Q 820 617 806 609 Q 736 579 622 555 C 593 549 577 538 605 527 Z"></path>
                        <path d="M 659 302 Q 659 303 660 304 Q 672 370 685 395 Q 694 411 678 420 Q 636 454 610 445 Q 597 441 603 427 Q 631 382 597 263 Q 566 163 484 111 Q 471 101 455 90 Q 454 90 454 89 C 439 78 439 78 454 79 Q 508 79 568 135 Q 625 184 651 270 L 659 302 Z"></path>
                        <path d="M 651 270 Q 717 173 798 68 Q 817 49 847 51 Q 949 55 981 62 Q 991 63 992 69 Q 993 73 980 82 Q 838 142 759 211 Q 711 253 659 302 C 637 323 634 295 651 270 Z"></path>
                    </g>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg>
                    <use href="#char4"></use>
                </svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
                <svg></svg>
            </div>
        </div>
    </section>
    <style>
        path {
            /* 仅当 --char-index === --stroke-index 时，可得 1（true），否则 0 （false）*/
            --is-current: clamp(0,
                    calc(1 - (var(--char-index) - var(--stroke-index)) * (var(--char-index) - var(--stroke-index))),
                    1);
            /* 仅当 --char-index > --stroke-index 时，可得 1（true），否则 0 （false）*/
            --is-past: clamp(0,
                    calc(var(--char-index) - var(--stroke-index)),
                    1);
            /* 仅当 --char-index < --stroke-index 时，可得 1（true），否则 0 （false）*/
            --is-next: clamp(0,
                    calc(var(--stroke-index) - var(--char-index)),
                    1);
            /* 设计不同场景下笔画填色
    当前笔画：红色 - current: rgba(187,  68,  68, 1);
    之前笔画：黑色 - past:    rgba( 85,  85,  85, 1);
    后继笔画：透明 - next:    rgba(any, any, any, 0);
    描红笔画：灰色 - gray:    rgba(185, 185, 185, 1);
    */
            --stroke-color: rgba(calc(85 * var(--is-past) + 187 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(1 - var(--is-next)));
            fill: var(--stroke-color);
        }
        :root {
            --is-gray: 0;
            /* 初始化为 100，使描红字样必定计算出 --is-past=1，--is-current=0 --is-next=0 */
            --char-index: 100;
        }
        .write-them-down {
            /* 描红格子里填充灰色 */
            --is-gray: 1;
        }
        #char>div>svg {
            display: inline-block;
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAP1BMVEUAAABFoFBGoFBGoFBGoVFGn1BDn1JEoVNFp1hEoE9En1FHoVJKoldFoE9GoFBFoFBGn1NGoE9HoU9GoVBEn1Jj1l/OAAAAFXRSTlMAMma7X201CQUsIRUNs6uPKKF6STipww1qAAABtklEQVRo3u2b2Y6DMAxFfQnD2pbO8v/fOlKL5JFoUZMmXpict4qSIyEwxrEpgFJpGkplIEKAvBiXm7mTFa9KNkuJWcjmwuKNDouYeHNTiYn7M0hFTD1V9FhAOiAUNaPdfbQLwIsLm3npcub0hRHmiACS8/aZqYB43HiFQuZpJFkxU8XP+IGSGAF5xGOvE7cRxiyhpuwifJK8d3u1RRfAZPn1/pwWVDEcMv8yKYmngFhxXyxu74txzmbuIsT89wJmFid4080sLp8g4+uh2E6cHC4gHQaq+ObTYM0ADRWBw0PEgVLmphHxsoLFIl6WnFgsGidXL4uvsvGZxcOVXsBRslfFd75VoydmEoTNbz2/7Ur8b4SAN87/WKGVV3+v4uTzBS71UW6uyMfpAAHkX4t3XouHSAQiUx/3yV5keus+oY/9hPH/0VYxxEBxmC03RRbY3JcU44uovsvGKYVy31sDk9mcq5KK/qZmjm1cTxvXCJ3XFoH7Ik7aMTI2oDhpubEdMqt4v3XOarNgyfZIiw2hDw/7br29LW6uzXmp3/sVKwMa6SMpekM4emNHeoNWWqNlesN0auODvzsxCat6cG0IAAAAAElFTkSuQmCC");
            background-size: contain;
            border: 1px solid rgba(70, 160, 80, 0.5);
            width: 54px;
            height: 54px;
        }
        #math {
            font-family: 'Courier New', Courier, monospace;
            font-size: 24px;
            color: #666;
        }
        #math .question {
            text-align: center;
        }
        #math .question:first-child {
            text-align: left;
        }
        #math .question:last-child {
            text-align: right;
        }
        #math .question>i {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
            width: 36px;
            height: 36px;
            font-style: normal;
        }
        #math .box {
            border: 1px solid #aaa;
            border-radius: 2px;
        }
        .sample>svg+svg {
            margin-left: 4px;
        }
        .write-them-down+.sample {
            margin-top: 8px;
        }
        .write-them-down:not(:last-child) {
            padding-bottom: 12px;
            border-bottom: 1px solid #e5e7eb;
        }
    </style>
    <script>
        const injectedStyles = Array.from({ length: 100 })
            .map((_, idx) => `
                .sample > svg:nth-child(${idx + 1}) { --char-index: ${idx + 1}; }
                path:nth-child(${idx + 1}) { --stroke-index: ${idx + 1}; }
                `
            ).join('\n')
        document.querySelector('#injected')?.remove()
        document.head.insertAdjacentHTML('beforeend', `<style id="injected">${injectedStyles}</style>`)
    </script>
</body>
</html>
