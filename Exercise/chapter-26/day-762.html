<html>
<head>
    <script src="https://cdn.tailwindcss.com/3.0.12"></script>
</head>
<body>
    <section id="output">
        <div id="math" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">534+42=?,5007-?=160,2770+?=5425
                912*8=?,66*28=?,363*59=?
                9693/9=?,870/29=?,5880/70=?
                896-409=?-504,2323+978+908-1410=?
                3085+689+?=4117,4608+2142-4916-818=?
                ?-3329-168=4736,9665-245-2042-3094=?</code>
            <code class="hidden"
                  id="answers">576,4847,2655,7296,1848,21417,1077,30,84,991,2799,343,1016,8233,4284</code>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>534</i><i>+</i><i>42</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>5007</i><i>-</i><i class="box"></i><i>=</i><i>160</i></div>
                <div class="question flex-1"><i>2770</i><i>+</i><i class="box"></i><i>=</i><i>5425</i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>912</i><i>×</i><i>8</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>66</i><i>×</i><i>28</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>363</i><i>×</i><i>59</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>9693</i><i>÷</i><i>9</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>870</i><i>÷</i><i>29</i><i>=</i><i class="box"></i></div>
                <div class="question flex-1"><i>5880</i><i>÷</i><i>70</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>896</i><i>-</i><i>409</i><i>=</i><i class="box"></i><i>-</i><i>504</i>
                </div>
                <div class="question flex-1">
                    <i>2323</i><i>+</i><i>978</i><i>+</i><i>908</i><i>-</i><i>1410</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i>3085</i><i>+</i><i>689</i><i>+</i><i class="box"></i><i>=</i><i>4117</i>
                </div>
                <div class="question flex-1">
                    <i>4608</i><i>+</i><i>2142</i><i>-</i><i>4916</i><i>-</i><i>818</i><i>=</i><i class="box"></i></div>
            </div>
            <div class="flex origin-left mt-2">
                <div class="question flex-1"><i class="box"></i><i>-</i><i>3329</i><i>-</i><i>168</i><i>=</i><i>4736</i>
                </div>
                <div class="question flex-1">
                    <i>9665</i><i>-</i><i>245</i><i>-</i><i>2042</i><i>-</i><i>3094</i><i>=</i><i class="box"></i></div>
            </div>
        </div>
        <hr class="my-4">
        <div id="char" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden">乐于助人</code>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char0">
                            <path d="M 340 603 Q 497 651 596 702 Q 644 721 685 731 Q 704 732 707 740 Q 711 752 698 763 Q 676 779 628 798 Q 612 805 598 804 Q 591 800 589 788 Q 589 742 331 622 C 304 609 311 594 340 603 Z"></path>
                            <path d="M 331 622 Q 309 647 277 659 Q 261 665 252 655 Q 246 649 257 630 Q 276 599 273 555 Q 270 447 232 395 Q 219 379 225 367 Q 232 345 252 328 Q 265 316 283 331 Q 346 374 511 392 L 566 398 Q 669 408 799 396 Q 823 392 833 399 Q 840 405 835 418 Q 829 431 788 456 Q 764 471 690 458 Q 656 457 565 445 L 510 438 Q 422 428 334 408 Q 315 402 312 408 Q 303 415 308 435 Q 324 558 338 592 Q 339 598 340 603 C 342 612 342 612 331 622 Z"></path>
                            <path d="M 511 392 Q 517 116 494 97 Q 484 90 469 94 Q 423 104 379 116 Q 366 117 367 110 Q 368 103 380 94 Q 471 24 504 -19 Q 520 -38 537 -22 Q 577 20 573 94 Q 569 137 566 398 L 565 445 Q 566 491 578 523 Q 588 544 569 558 Q 541 580 508 592 Q 489 599 479 590 Q 473 583 485 566 Q 510 524 509 478 Q 509 459 510 438 L 511 392 Z"></path>
                            <path d="M 292 261 Q 249 203 196 154 Q 166 124 175 84 Q 179 63 204 71 Q 232 81 255 111 Q 291 153 303 194 Q 318 227 317 255 Q 314 265 308 268 Q 299 269 292 261 Z"></path>
                            <path d="M 692 252 Q 752 185 822 90 Q 838 65 854 59 Q 864 56 873 67 Q 889 80 880 131 Q 871 200 696 287 Q 687 294 683 280 Q 682 265 692 252 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg><use href="#char0"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char1">
                            <path d="M 500 709 Q 591 724 710 735 Q 722 734 732 747 Q 733 760 709 772 Q 673 794 598 775 Q 562 769 528 760 Q 449 745 302 731 Q 271 728 294 709 Q 330 678 360 686 Q 403 695 456 702 L 500 709 Z"></path>
                            <path d="M 556 484 Q 634 490 898 491 Q 922 491 927 501 Q 934 514 914 531 Q 842 588 796 565 Q 699 549 552 525 L 502 518 Q 499 519 497 518 Q 322 497 115 474 Q 90 471 108 451 Q 124 435 146 428 Q 171 421 190 427 Q 328 463 506 480 L 556 484 Z"></path>
                            <path d="M 506 480 Q 527 186 476 99 Q 473 90 464 87 Q 446 81 349 100 Q 340 101 338 97 Q 337 93 346 84 Q 416 30 455 -12 Q 468 -25 475 -23 Q 491 -22 517 6 Q 574 63 575 174 Q 576 234 556 484 L 552 525 Q 531 687 528 692 Q 519 701 500 709 C 474 724 442 729 456 702 Q 487 656 502 518 L 506 480 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg><use href="#char1"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char2">
                            <path d="M 240 658 Q 221 676 201 684 Q 189 687 180 683 Q 171 679 175 668 Q 196 622 200 535 Q 201 448 202 199 C 202 169 247 181 247 211 Q 247 284 248 350 L 248 372 Q 248 429 249 481 L 249 508 Q 249 625 252 627 C 254 646 254 646 240 658 Z"></path>
                            <path d="M 434 263 Q 440 603 465 634 Q 478 652 466 667 Q 456 677 409 704 Q 396 713 330 685 Q 278 667 240 658 C 211 651 226 613 252 627 Q 267 642 371 661 Q 384 664 389 659 Q 398 643 384 249 C 383 219 433 233 434 263 Z"></path>
                            <path d="M 249 481 Q 250 481 255 481 Q 309 491 349 496 Q 371 500 361 513 Q 351 526 326 529 Q 289 532 249 508 C 223 493 219 481 249 481 Z"></path>
                            <path d="M 248 350 Q 252 349 262 349 Q 314 359 353 364 Q 375 370 365 381 Q 355 394 330 397 Q 296 400 248 372 C 222 357 218 355 248 350 Z"></path>
                            <path d="M 202 199 Q 186 196 169 191 Q 147 184 112 186 Q 99 185 96 174 Q 93 161 103 151 Q 127 133 162 112 Q 172 108 186 117 Q 231 148 280 168 Q 356 198 430 228 Q 458 240 480 255 Q 493 262 495 272 Q 489 279 476 276 Q 454 270 434 263 L 384 249 Q 317 231 247 211 L 202 199 Z"></path>
                            <path d="M 639 502 Q 552 486 503 486 Q 482 489 482 477 Q 481 467 504 452 Q 532 433 558 442 Q 592 452 629 462 L 691 476 Q 746 489 800 497 Q 816 498 820 490 Q 827 474 823 429 Q 807 269 775 184 Q 759 130 740 114 Q 727 101 700 109 Q 669 116 640 125 Q 616 132 633 110 Q 678 62 701 25 Q 711 4 731 10 Q 750 13 775 39 Q 844 109 877 384 Q 884 445 908 481 Q 926 503 916 514 Q 900 533 862 550 Q 835 563 808 550 Q 762 532 700 516 L 639 502 Z"></path>
                            <path d="M 629 462 Q 557 210 442 86 Q 415 59 381 27 Q 368 20 365 15 Q 361 8 378 8 Q 408 5 508 96 Q 629 210 691 476 L 700 516 Q 730 682 757 742 Q 764 752 756 763 Q 738 782 702 803 Q 680 816 662 812 Q 640 808 654 786 Q 679 752 676 718 Q 660 597 639 502 L 629 462 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg><use href="#char2"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
            <div>
                <div class="flex scale-[0.6] origin-left w-fit sample">
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                </div>
                <div class="write-them-down flex w-100 justify-between">
                    <svg>
                        <g id="char3">
                            <path d="M 475 485 Q 547 653 563 683 Q 573 695 565 708 Q 558 721 519 742 Q 491 757 480 754 Q 462 750 465 730 Q 484 537 292 308 Q 280 296 269 284 Q 212 217 68 102 Q 58 92 66 89 Q 76 86 90 92 Q 190 138 274 210 Q 380 294 462 456 L 475 485 Z"></path>
                            <path d="M 462 456 Q 480 423 575 292 Q 666 171 733 101 Q 764 67 793 69 Q 881 75 958 79 Q 991 80 992 89 Q 993 98 956 112 Q 772 178 740 205 Q 617 304 490 466 Q 481 476 475 485 C 457 509 447 482 462 456 Z"></path>
                        </g>
                    </svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg><use href="#char3"></use></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                    <svg></svg>
                </div>
            </div>
        </div>
        <hr class="my-4">
        <div id="english" class="flex flex-col max-w-2xl mx-auto">
            <code class="hidden"> often cold in December</code>
            <div class="flex w-100 justify-between">
                <div class="flex word"></div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-f.png">
                    <img class="letter" src="../../Generator/images/lower-t.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-c.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-l.png">
                    <img class="letter" src="../../Generator/images/lower-d.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-i.png">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-d.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                    <img class="letter" src="../../Generator/images/lower-c.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                    <img class="letter" src="../../Generator/images/lower-m.png">
                    <img class="letter" src="../../Generator/images/lower-b.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                    <img class="letter" src="../../Generator/images/lower-r.png">
                </div>
            </div>

            <div class="flex w-100 justify-between">
                <div class="flex word"></div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-f.png">
                    <img class="letter" src="../../Generator/images/lower-t.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-c.png">
                    <img class="letter" src="../../Generator/images/lower-o.png">
                    <img class="letter" src="../../Generator/images/lower-l.png">
                    <img class="letter" src="../../Generator/images/lower-d.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lower-i.png">
                    <img class="letter" src="../../Generator/images/lower-n.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/cap-d.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                    <img class="letter" src="../../Generator/images/lower-c.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                    <img class="letter" src="../../Generator/images/lower-m.png">
                    <img class="letter" src="../../Generator/images/lower-b.png">
                    <img class="letter" src="../../Generator/images/lower-e.png">
                    <img class="letter" src="../../Generator/images/lower-r.png">
                </div>
            </div>

            <div class="flex w-100 justify-between">
                <div class="flex word"></div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-f.png">
                    <img class="letter" src="../../Generator/images/lowdot-t.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-c.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-l.png">
                    <img class="letter" src="../../Generator/images/lowdot-d.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-i.png">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-d.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                    <img class="letter" src="../../Generator/images/lowdot-c.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                    <img class="letter" src="../../Generator/images/lowdot-m.png">
                    <img class="letter" src="../../Generator/images/lowdot-b.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                    <img class="letter" src="../../Generator/images/lowdot-r.png">
                </div>
            </div>

            <div class="flex w-100 justify-between">
                <div class="flex word"></div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-f.png">
                    <img class="letter" src="../../Generator/images/lowdot-t.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-c.png">
                    <img class="letter" src="../../Generator/images/lowdot-o.png">
                    <img class="letter" src="../../Generator/images/lowdot-l.png">
                    <img class="letter" src="../../Generator/images/lowdot-d.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/lowdot-i.png">
                    <img class="letter" src="../../Generator/images/lowdot-n.png">
                </div>
                <div class="flex word">
                    <img class="letter" src="../../Generator/images/dot-d.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                    <img class="letter" src="../../Generator/images/lowdot-c.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                    <img class="letter" src="../../Generator/images/lowdot-m.png">
                    <img class="letter" src="../../Generator/images/lowdot-b.png">
                    <img class="letter" src="../../Generator/images/lowdot-e.png">
                    <img class="letter" src="../../Generator/images/lowdot-r.png">
                </div>
            </div>
        </div>
    </section>
    <style>
        path {
            --is-current: clamp(0,
                    calc(1 - (var(--char-index) - var(--stroke-index)) * (var(--char-index) - var(--stroke-index))),
                    1);
            --is-past: clamp(0,
                    calc(var(--char-index) - var(--stroke-index)),
                    1);
            --is-next: clamp(0,
                    calc(var(--stroke-index) - var(--char-index)),
                    1);

            --stroke-color: rgba(calc(85 * var(--is-past) + 187 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
                    calc(1 - var(--is-next)));
            fill: var(--stroke-color);
        }
        :root {
            --is-gray: 0;
            --char-index: 100;
        }
        .write-them-down {
            --is-gray: 1;
        }
        #char svg {
            display: inline-block;
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAAP1BMVEUAAABFoFBGoFBGoFBGoVFGn1BDn1JEoVNFp1hEoE9En1FHoVJKoldFoE9GoFBFoFBGn1NGoE9HoU9GoVBEn1Jj1l/OAAAAFXRSTlMAMma7X201CQUsIRUNs6uPKKF6STipww1qAAABtklEQVRo3u2b2Y6DMAxFfQnD2pbO8v/fOlKL5JFoUZMmXpict4qSIyEwxrEpgFJpGkplIEKAvBiXm7mTFa9KNkuJWcjmwuKNDouYeHNTiYn7M0hFTD1V9FhAOiAUNaPdfbQLwIsLm3npcub0hRHmiACS8/aZqYB43HiFQuZpJFkxU8XP+IGSGAF5xGOvE7cRxiyhpuwifJK8d3u1RRfAZPn1/pwWVDEcMv8yKYmngFhxXyxu74txzmbuIsT89wJmFid4080sLp8g4+uh2E6cHC4gHQaq+ObTYM0ADRWBw0PEgVLmphHxsoLFIl6WnFgsGidXL4uvsvGZxcOVXsBRslfFd75VoydmEoTNbz2/7Ur8b4SAN87/WKGVV3+v4uTzBS71UW6uyMfpAAHkX4t3XouHSAQiUx/3yV5keus+oY/9hPH/0VYxxEBxmC03RRbY3JcU44uovsvGKYVy31sDk9mcq5KK/qZmjm1cTxvXCJ3XFoH7Ik7aMTI2oDhpubEdMqt4v3XOarNgyfZIiw2hDw/7br29LW6uzXmp3/sVKwMa6SMpekM4emNHeoNWWqNlesN0auODvzsxCat6cG0IAAAAAElFTkSuQmCC");
            background-size: contain;
            border: 1px solid rgba(70, 160, 80, 0.5);
            width: 54px;
            height: 54px;
        }
        g {
            transform: translate(5px, 43.671875px) scale(0.04296875, -0.04296875);
        }
        .sample {
            margin-top: -8px;
        }
        .sample>svg+svg {
            margin-left: 4px;
        }
        #math {
            font-family: 'Courier New', Courier, monospace;
            font-size: 19px;
            color: #666;
        }
        #math .question {
            text-align: center;
        }
        #math .question:first-child {
            text-align: left;
        }
        #math .question:last-child {
            text-align: right;
        }
        #math .question>i {
            display: inline-block;
            vertical-align: middle;
            text-align: center;
            width: 36px;
            height: 36px;
            font-style: normal;
        }
        #math .box {
            border-bottom: 1px solid #aaa;
            color: blue;
        }
        .word {
            margin-bottom: 13px;
        }
    </style>
    <script>
        document.addEventListener('keydown', evt => {
            if (evt.code === 'ControlLeft') {
                let isAnswerVisible = document.querySelector('.box').innerText !== ''
                const answers = document.querySelector('#answers').textContent.split(',')
                document.querySelectorAll('.box')
                    .forEach((box, idx) => box.innerText = isAnswerVisible ? '' : answers[idx])
            }
        })
    </script>
    <script>
        const injectedStyles = Array.from({ length: 100 })
            .map(it => it + 1)
            .map((_, idx) =>
                `.sample > svg:nth-child(${idx}) { --char-index: ${idx}; }`
                + `path:nth-child(${idx}) { --stroke-index: ${idx}; }`
            )
            .join('\n')
        document.querySelector('#injected')?.remove()
        document.head.insertAdjacentHTML('beforeend', `<style id="injected">${injectedStyles}</style>`)
    </script>
</body>
</html>
