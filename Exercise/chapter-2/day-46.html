<html>

<head>
  <script src="https://cdn.tailwindcss.com/3.0.12"></script>
</head>

<body>
  <section id="output">
    <div id="math" class="flex flex-col max-w-2xl mx-auto">
      <div class="hidden">3+7=?,9+?=18,15+?=31
        ?-5=5,?-13=10,?-16=18
        33-?=12,46-?=24,80-?=42
        17+18=?,32+28=?,109-66=?
        3*7=?,3*8=?,3*9=?
        ---
        ?+9=24-15,42-?=21+13
        18+?+22=51,12+23+34+45=?
        24+?=30-?,27+15+12+31=?
        13+?=?+23,20-9+33-40=?</div>
      <div class="flex origin-left mt-2">
        <div class="question flex-1"><span>3</span><span>+</span><span>7</span><span>=</span><span class="box"></span>
        </div>
        <div class="question flex-1"><span>9</span><span>+</span><span class="box"></span><span>=</span><span>18</span>
        </div>
        <div class="question flex-1"><span>15</span><span>+</span><span class="box"></span><span>=</span><span>31</span>
        </div>
      </div>
      <div class="flex origin-left mt-2">
        <div class="question flex-1"><span class="box"></span><span>-</span><span>5</span><span>=</span><span>5</span>
        </div>
        <div class="question flex-1"><span class="box"></span><span>-</span><span>13</span><span>=</span><span>10</span>
        </div>
        <div class="question flex-1"><span class="box"></span><span>-</span><span>16</span><span>=</span><span>18</span>
        </div>
      </div>
      <div class="flex origin-left mt-2">
        <div class="question flex-1"><span>33</span><span>-</span><span class="box"></span><span>=</span><span>12</span>
        </div>
        <div class="question flex-1"><span>46</span><span>-</span><span class="box"></span><span>=</span><span>24</span>
        </div>
        <div class="question flex-1"><span>80</span><span>-</span><span class="box"></span><span>=</span><span>42</span>
        </div>
      </div>
      <div class="flex origin-left mt-2">
        <div class="question flex-1"><span>17</span><span>+</span><span>18</span><span>=</span><span class="box"></span>
        </div>
        <div class="question flex-1"><span>32</span><span>+</span><span>28</span><span>=</span><span class="box"></span>
        </div>
        <div class="question flex-1"><span>109</span><span>-</span><span>66</span><span>=</span><span
            class="box"></span></div>
      </div>
      <div class="flex origin-left mt-2">
        <div class="question flex-1"><span>3</span><span>×</span><span>7</span><span>=</span><span class="box"></span>
        </div>
        <div class="question flex-1"><span>3</span><span>×</span><span>8</span><span>=</span><span class="box"></span>
        </div>
        <div class="question flex-1"><span>3</span><span>×</span><span>9</span><span>=</span><span class="box"></span>
        </div>
      </div>
      <hr class="mt-2">
      <div class="flex origin-left mt-2">
        <div class="question flex-1"><span
            class="box"></span><span>+</span><span>9</span><span>=</span><span>24</span><span>-</span><span>15</span>
        </div>
        <div class="question flex-1"><span>42</span><span>-</span><span
            class="box"></span><span>=</span><span>21</span><span>+</span><span>13</span></div>
      </div>
      <div class="flex origin-left mt-2">
        <div class="question flex-1"><span>18</span><span>+</span><span
            class="box"></span><span>+</span><span>22</span><span>=</span><span>51</span></div>
        <div class="question flex-1">
          <span>12</span><span>+</span><span>23</span><span>+</span><span>34</span><span>+</span><span>45</span><span>=</span><span
            class="box"></span></div>
      </div>
      <div class="flex origin-left mt-2">
        <div class="question flex-1"><span>24</span><span>+</span><span
            class="box"></span><span>=</span><span>30</span><span>-</span><span class="box"></span></div>
        <div class="question flex-1">
          <span>27</span><span>+</span><span>15</span><span>+</span><span>12</span><span>+</span><span>31</span><span>=</span><span
            class="box"></span></div>
      </div>
      <div class="flex origin-left mt-2">
        <div class="question flex-1"><span>13</span><span>+</span><span class="box"></span><span>=</span><span
            class="box"></span><span>+</span><span>23</span></div>
        <div class="question flex-1">
          <span>20</span><span>-</span><span>9</span><span>+</span><span>33</span><span>-</span><span>40</span><span>=</span><span
            class="box"></span></div>
      </div>
    </div>
    <hr class="my-2">
    <div id="char" class="flex flex-col max-w-2xl mx-auto">
      <div class="hidden">帅哥黄子诺</div>
      <div class="flex scale-[0.7] origin-left sample"><svg>
          <use href="#char0"></use>
        </svg>
        <svg>
          <use href="#char0"></use>
        </svg>
        <svg>
          <use href="#char0"></use>
        </svg>
        <svg>
          <use href="#char0"></use>
        </svg>
        <svg>
          <use href="#char0"></use>
        </svg>
      </div>
      <div class="write-them-down flex w-100 justify-between"><svg>
          <g transform="translate(5, 43.671875) scale(0.04296875, -0.04296875)" id="char0">
            <path
              d="M 165 632 Q 166 626 169 620 Q 187 581 178 427 Q 160 348 194 305 Q 204 292 214 305 Q 229 326 228 388 Q 229 577 231 590 Q 235 609 230 617 Q 224 635 186 648 Q 177 652 166 649 Q 159 645 165 632 Z">
            </path>
            <path
              d="M 328 752 Q 367 689 351 450 Q 347 353 298 237 Q 259 140 151 38 Q 136 23 133 17 Q 132 10 144 10 Q 193 14 277 111 Q 329 172 359 240 Q 386 310 398 409 Q 414 523 412 692 Q 416 714 418 726 Q 424 748 401 758 Q 349 783 332 780 Q 310 776 328 752 Z">
            </path>
            <path
              d="M 511 528 Q 496 543 476 547 Q 470 550 466 544 Q 462 537 465 525 Q 489 477 480 361 Q 471 286 478 269 Q 488 250 504 237 Q 517 227 520 238 Q 527 242 530 262 Q 534 278 532 339 Q 531 442 535 480 Q 536 487 536 493 C 537 506 534 508 511 528 Z">
            </path>
            <path
              d="M 697 526 Q 743 536 789 540 Q 819 544 822 525 Q 837 354 814 328 Q 805 322 746 333 Q 728 337 725 333 Q 722 327 733 318 Q 790 279 825 249 Q 840 236 852 251 Q 877 284 878 362 Q 872 473 882 532 Q 886 553 876 561 Q 848 585 830 595 Q 817 599 809 591 Q 802 581 698 557 L 642 547 Q 593 540 511 528 C 481 524 508 483 536 493 Q 540 499 642 517 L 697 526 Z">
            </path>
            <path
              d="M 642 517 Q 642 37 643 23 Q 643 -19 656 -40 Q 671 -56 680 -34 Q 698 14 695 334 Q 695 445 697 526 L 698 557 Q 699 702 721 737 Q 728 753 708 768 Q 683 787 640 799 Q 621 803 608 790 Q 598 781 610 769 Q 638 745 641 711 Q 642 648 642 547 L 642 517 Z">
            </path>
          </g>
        </svg><svg>
          <use href="#char0"></use>
        </svg><svg>
          <use href="#char0"></use>
        </svg><svg>
          <use href="#char0"></use>
        </svg><svg>
          <use href="#char0"></use>
        </svg><svg>
          <use href="#char0"></use>
        </svg><svg></svg><svg></svg><svg></svg><svg></svg><svg></svg></div>
      <div class="flex scale-[0.7] origin-left sample"><svg>
          <use href="#char1"></use>
        </svg>
        <svg>
          <use href="#char1"></use>
        </svg>
        <svg>
          <use href="#char1"></use>
        </svg>
        <svg>
          <use href="#char1"></use>
        </svg>
        <svg>
          <use href="#char1"></use>
        </svg>
        <svg>
          <use href="#char1"></use>
        </svg>
        <svg>
          <use href="#char1"></use>
        </svg>
        <svg>
          <use href="#char1"></use>
        </svg>
        <svg>
          <use href="#char1"></use>
        </svg>
        <svg>
          <use href="#char1"></use>
        </svg>
      </div>
      <div class="write-them-down flex w-100 justify-between"><svg>
          <g transform="translate(5, 43.671875) scale(0.04296875, -0.04296875)" id="char1">
            <path
              d="M 675 764 Q 682 767 694 768 Q 758 778 769 787 Q 779 794 774 804 Q 767 817 739 826 Q 708 833 677 824 Q 512 776 328 769 Q 291 765 316 746 Q 359 719 415 728 Q 517 743 626 758 L 675 764 Z">
            </path>
            <path
              d="M 363 655 Q 353 659 326 664 Q 316 665 312 661 Q 308 655 315 642 Q 337 603 353 538 Q 357 519 369 506 Q 385 487 390 501 Q 391 508 392 517 L 389 547 Q 379 610 376 630 C 373 652 373 652 363 655 Z">
            </path>
            <path
              d="M 528 570 Q 544 616 560 631 Q 581 653 560 667 Q 542 677 518 694 Q 502 704 484 694 Q 447 672 363 655 C 334 649 347 624 376 630 Q 421 639 463 647 Q 485 651 490 643 Q 491 642 480 572 C 475 542 518 542 528 570 Z">
            </path>
            <path
              d="M 392 517 Q 401 516 412 519 Q 452 529 542 539 Q 552 540 553 549 Q 553 556 528 570 C 509 581 509 581 480 572 Q 431 557 389 547 C 360 540 362 518 392 517 Z">
            </path>
            <path
              d="M 665 489 Q 677 510 683 578 Q 686 677 698 721 Q 707 743 687 756 Q 681 760 675 764 C 650 781 617 787 626 758 Q 650 685 622 544 Q 615 517 635 484 C 650 458 653 462 665 489 Z">
            </path>
            <path
              d="M 679 439 Q 760 443 856 441 Q 943 438 951 449 Q 958 462 938 479 Q 871 531 814 513 Q 750 503 665 489 L 635 484 Q 388 454 111 426 Q 86 423 104 403 Q 135 372 203 382 Q 399 430 623 437 L 679 439 Z">
            </path>
            <path
              d="M 334 332 Q 324 336 297 340 Q 285 341 283 337 Q 277 331 286 316 Q 311 270 330 192 Q 334 170 348 154 Q 366 135 370 149 Q 373 159 372 175 L 368 209 Q 353 279 351 303 C 348 327 348 327 334 332 Z">
            </path>
            <path
              d="M 523 224 Q 544 287 572 306 Q 587 322 574 338 Q 510 389 457 363 Q 409 348 334 332 C 305 326 322 295 351 303 Q 361 307 469 327 Q 482 330 487 325 Q 497 315 479 234 C 473 205 513 196 523 224 Z">
            </path>
            <path
              d="M 372 175 Q 379 175 387 176 Q 433 186 532 193 Q 542 194 544 204 Q 544 211 523 224 L 479 234 Q 473 234 467 232 Q 412 217 368 209 C 339 204 342 174 372 175 Z">
            </path>
            <path
              d="M 580 51 Q 552 58 517 65 Q 504 68 505 60 Q 506 51 518 41 Q 594 -13 644 -57 Q 657 -67 672 -49 Q 717 11 710 97 Q 704 286 710 372 Q 717 402 710 413 Q 703 425 679 439 C 654 456 611 465 623 437 Q 624 430 630 421 Q 640 397 641 90 Q 638 63 628 50 Q 615 41 580 51 Z">
            </path>
          </g>
        </svg><svg>
          <use href="#char1"></use>
        </svg><svg>
          <use href="#char1"></use>
        </svg><svg>
          <use href="#char1"></use>
        </svg><svg>
          <use href="#char1"></use>
        </svg><svg>
          <use href="#char1"></use>
        </svg><svg></svg><svg></svg><svg></svg><svg></svg><svg></svg></div>
      <div class="flex scale-[0.7] origin-left sample"><svg>
          <use href="#char2"></use>
        </svg>
        <svg>
          <use href="#char2"></use>
        </svg>
        <svg>
          <use href="#char2"></use>
        </svg>
        <svg>
          <use href="#char2"></use>
        </svg>
        <svg>
          <use href="#char2"></use>
        </svg>
        <svg>
          <use href="#char2"></use>
        </svg>
        <svg>
          <use href="#char2"></use>
        </svg>
        <svg>
          <use href="#char2"></use>
        </svg>
        <svg>
          <use href="#char2"></use>
        </svg>
        <svg>
          <use href="#char2"></use>
        </svg>
        <svg>
          <use href="#char2"></use>
        </svg>
      </div>
      <div class="write-them-down flex w-100 justify-between"><svg>
          <g transform="translate(5, 43.671875) scale(0.04296875, -0.04296875)" id="char2">
            <path
              d="M 644 655 Q 702 662 754 666 Q 766 663 775 677 Q 776 689 754 701 Q 718 723 656 707 L 591 693 Q 569 690 549 685 Q 489 675 434 667 L 383 662 Q 328 659 270 654 Q 239 651 262 632 Q 296 602 325 610 Q 355 616 389 620 L 435 628 Q 504 640 585 649 L 644 655 Z">
            </path>
            <path
              d="M 434 667 Q 434 710 436 722 Q 437 744 424 756 Q 400 772 373 781 Q 360 785 350 780 Q 343 773 350 758 Q 371 722 383 662 L 389 620 Q 393 574 404 495 C 408 465 446 470 444 500 Q 438 576 435 628 L 434 667 Z">
            </path>
            <path
              d="M 609 520 Q 627 590 644 655 L 656 707 Q 657 710 658 712 Q 668 748 682 772 Q 688 782 670 801 Q 639 825 615 833 Q 599 840 590 832 Q 581 826 587 810 Q 600 782 598 765 Q 595 731 591 693 L 585 649 Q 576 585 564 514 C 559 484 602 491 609 520 Z">
            </path>
            <path
              d="M 500 469 Q 578 476 898 477 Q 920 477 927 486 Q 933 499 915 516 Q 857 561 812 553 Q 730 537 609 520 L 564 514 Q 531 511 497 506 Q 470 505 444 500 L 404 495 Q 265 482 111 465 Q 86 464 104 443 Q 120 427 140 420 Q 165 413 183 419 Q 306 450 444 463 Q 451 464 461 464 L 500 469 Z">
            </path>
            <path
              d="M 327 377 Q 317 383 280 388 Q 268 391 265 385 Q 259 379 268 363 Q 302 297 323 189 Q 327 156 347 135 Q 366 113 371 130 Q 372 134 372 138 L 373 164 Q 372 180 368 201 Q 346 301 338 340 C 332 369 331 375 327 377 Z">
            </path>
            <path
              d="M 630 163 Q 631 159 633 152 Q 639 136 652 137 Q 667 138 675 154 Q 688 172 712 257 Q 730 312 769 344 Q 790 360 772 377 Q 753 396 700 424 Q 687 433 614 419 Q 548 413 531 409 L 477 401 Q 449 398 423 392 Q 368 383 327 377 C 297 373 309 332 338 340 Q 378 353 478 366 L 529 373 Q 650 386 663 378 Q 673 371 668 338 Q 646 221 635 192 L 630 163 Z">
            </path>
            <path
              d="M 524 269 Q 563 275 598 278 Q 620 279 613 293 Q 603 306 579 312 Q 560 316 526 308 L 478 297 Q 433 288 395 280 Q 379 277 398 262 Q 408 255 428 257 Q 453 261 479 263 L 524 269 Z">
            </path>
            <path
              d="M 531 409 Q 531 442 530 444 Q 515 459 500 469 C 476 486 450 492 461 464 Q 476 427 477 401 L 478 366 Q 478 341 478 297 L 479 263 Q 479 227 479 179 C 479 149 520 156 521 186 Q 522 229 524 269 L 526 308 Q 527 342 529 373 L 531 409 Z">
            </path>
            <path
              d="M 372 138 Q 382 137 395 138 Q 528 156 630 163 C 660 165 663 180 635 192 Q 631 195 624 196 Q 600 202 521 186 L 479 179 Q 422 173 373 164 C 343 159 342 140 372 138 Z">
            </path>
            <path
              d="M 376 105 Q 352 47 191 -41 Q 167 -51 195 -54 Q 268 -57 401 29 Q 426 47 441 55 Q 454 65 454 75 Q 453 88 429 102 Q 402 118 390 118 Q 381 118 376 105 Z">
            </path>
            <path
              d="M 599 81 Q 657 35 727 -36 Q 745 -55 761 -59 Q 770 -60 777 -49 Q 789 -36 773 9 Q 758 63 598 113 Q 588 117 587 105 Q 587 92 599 81 Z">
            </path>
          </g>
        </svg><svg>
          <use href="#char2"></use>
        </svg><svg>
          <use href="#char2"></use>
        </svg><svg>
          <use href="#char2"></use>
        </svg><svg>
          <use href="#char2"></use>
        </svg><svg>
          <use href="#char2"></use>
        </svg><svg></svg><svg></svg><svg></svg><svg></svg><svg></svg></div>
      <div class="flex scale-[0.7] origin-left sample"><svg>
          <use href="#char3"></use>
        </svg>
        <svg>
          <use href="#char3"></use>
        </svg>
        <svg>
          <use href="#char3"></use>
        </svg>
      </div>
      <div class="write-them-down flex w-100 justify-between"><svg>
          <g transform="translate(5, 43.671875) scale(0.04296875, -0.04296875)" id="char3">
            <path
              d="M 544 561 Q 575 580 648 638 Q 679 666 700 671 Q 737 683 739 698 Q 740 708 705 746 Q 672 782 661 780 Q 657 783 644 778 Q 575 748 344 719 Q 323 720 309 722 Q 290 726 283 715 Q 280 708 288 697 Q 298 684 322 666 Q 343 650 354 650 Q 364 649 384 662 Q 420 690 607 732 Q 632 738 637 735 Q 643 731 642 723 Q 642 714 543 589 Q 534 580 529 573 C 509 550 519 545 544 561 Z">
            </path>
            <path
              d="M 529 573 Q 505 588 486 592 Q 474 596 466 591 Q 462 587 474 574 Q 495 544 508 451 L 513 407 Q 541 169 492 90 Q 489 83 482 81 Q 467 77 356 100 Q 349 100 346 97 Q 345 93 354 85 Q 429 30 470 -13 Q 483 -26 492 -24 Q 505 -23 527 -1 Q 575 44 576 136 Q 583 239 562 411 L 557 457 Q 551 505 549 542 Q 549 554 544 561 L 529 573 Z">
            </path>
            <path
              d="M 508 451 Q 499 452 299 429 Q 227 419 121 418 Q 108 418 106 406 Q 105 393 124 378 Q 142 365 174 353 Q 186 349 204 357 Q 222 363 297 375 Q 393 397 513 407 L 562 411 Q 769 430 888 417 Q 937 417 940 418 Q 940 421 942 421 Q 949 434 937 447 Q 864 513 800 491 Q 739 479 675 469 Q 605 463 557 457 L 508 451 Z">
            </path>
          </g>
        </svg><svg>
          <use href="#char3"></use>
        </svg><svg>
          <use href="#char3"></use>
        </svg><svg>
          <use href="#char3"></use>
        </svg><svg>
          <use href="#char3"></use>
        </svg><svg>
          <use href="#char3"></use>
        </svg><svg></svg><svg></svg><svg></svg><svg></svg><svg></svg></div>
      <div class="flex scale-[0.7] origin-left sample"><svg>
          <use href="#char4"></use>
        </svg>
        <svg>
          <use href="#char4"></use>
        </svg>
        <svg>
          <use href="#char4"></use>
        </svg>
        <svg>
          <use href="#char4"></use>
        </svg>
        <svg>
          <use href="#char4"></use>
        </svg>
        <svg>
          <use href="#char4"></use>
        </svg>
        <svg>
          <use href="#char4"></use>
        </svg>
        <svg>
          <use href="#char4"></use>
        </svg>
        <svg>
          <use href="#char4"></use>
        </svg>
        <svg>
          <use href="#char4"></use>
        </svg>
      </div>
      <div class="write-them-down flex w-100 justify-between"><svg>
          <g transform="translate(5, 43.671875) scale(0.04296875, -0.04296875)" id="char4">
            <path
              d="M 256 762 Q 290 737 325 707 Q 341 695 357 697 Q 369 698 373 712 Q 377 728 365 759 Q 358 781 321 795 Q 237 820 224 811 Q 218 807 221 793 Q 225 783 256 762 Z">
            </path>
            <path
              d="M 133 517 Q 84 501 58 499 Q 43 500 41 492 Q 37 485 48 476 Q 70 463 86 460 Q 104 457 206 508 Q 231 521 241 514 Q 250 508 243 402 Q 242 287 211 183 Q 196 149 239 104 Q 249 92 259 99 Q 266 106 277 130 Q 311 182 386 275 Q 396 287 394 294 Q 391 301 382 292 Q 345 262 307 230 Q 273 199 276 243 Q 275 310 298 474 Q 302 498 324 521 Q 336 531 326 544 Q 316 560 278 576 Q 266 582 249 571 Q 176 531 133 517 Z">
            </path>
            <path
              d="M 737 641 Q 833 650 883 649 Q 896 648 900 657 Q 904 667 892 679 Q 850 713 753 686 L 702 675 Q 636 663 568 650 L 525 642 Q 476 636 423 627 Q 398 623 416 611 Q 450 592 514 603 Q 523 606 533 607 L 571 617 Q 598 626 692 636 L 737 641 Z">
            </path>
            <path
              d="M 568 650 Q 565 687 564 715 Q 565 734 547 739 Q 508 757 490 750 Q 474 743 487 724 Q 515 687 525 642 L 533 607 Q 540 553 556 535 Q 569 525 572 536 Q 575 546 571 617 L 568 650 Z">
            </path>
            <path
              d="M 753 686 Q 759 711 787 767 Q 800 782 789 791 Q 777 807 743 823 Q 727 832 710 822 Q 700 816 709 805 Q 722 772 702 675 L 692 636 Q 670 546 670 535 Q 671 522 687 533 Q 705 548 737 641 L 753 686 Z">
            </path>
            <path
              d="M 600 381 Q 667 399 871 400 Q 928 400 935 409 Q 939 419 925 431 Q 880 467 844 458 Q 796 448 618 417 L 552 407 Q 471 397 383 384 Q 364 383 378 367 Q 391 354 407 350 Q 426 346 440 350 Q 486 363 538 371 L 600 381 Z">
            </path>
            <path
              d="M 532 257 Q 583 344 600 381 L 618 417 Q 634 450 646 467 Q 653 480 649 489 Q 643 501 616 502 Q 588 506 576 500 Q 569 497 569 484 Q 569 453 552 407 L 538 371 Q 484 242 306 33 Q 290 14 314 23 Q 395 54 499 209 Q 499 210 501 211 L 532 257 Z">
            </path>
            <path
              d="M 543 253 Q 540 256 532 257 C 503 264 492 240 501 211 Q 517 162 530 90 Q 533 62 549 43 Q 565 22 570 37 Q 574 47 575 62 L 572 95 Q 557 191 553 223 C 550 250 550 250 543 253 Z">
            </path>
            <path
              d="M 779 121 Q 806 202 838 227 Q 854 246 840 264 Q 824 277 771 303 Q 753 310 682 284 Q 607 263 543 253 C 513 248 523 219 553 223 Q 565 223 718 254 Q 734 258 742 250 Q 752 241 749 222 Q 739 165 725 120 C 716 91 769 93 779 121 Z">
            </path>
            <path
              d="M 575 62 Q 584 61 595 62 Q 659 75 799 82 Q 809 83 811 91 Q 812 100 782 120 Q 781 121 779 121 L 725 120 Q 640 104 572 95 C 542 91 545 64 575 62 Z">
            </path>
          </g>
        </svg><svg>
          <use href="#char4"></use>
        </svg><svg>
          <use href="#char4"></use>
        </svg><svg>
          <use href="#char4"></use>
        </svg><svg>
          <use href="#char4"></use>
        </svg><svg>
          <use href="#char4"></use>
        </svg><svg></svg><svg></svg><svg></svg><svg></svg><svg></svg></div>
    </div>
  </section>
  <style>
    path {
      /* 仅当 --char-index === --stroke-index 时，可得 1（true），否则 0 （false）*/
      --is-current: clamp(0,
          calc(1 - (var(--char-index) - var(--stroke-index)) * (var(--char-index) - var(--stroke-index))),
          1);
      /* 仅当 --char-index > --stroke-index 时，可得 1（true），否则 0 （false）*/
      --is-past: clamp(0,
          calc(var(--char-index) - var(--stroke-index)),
          1);
      /* 仅当 --char-index < --stroke-index 时，可得 1（true），否则 0 （false）*/
      --is-next: clamp(0,
          calc(var(--stroke-index) - var(--char-index)),
          1);

      /* 设计不同场景下笔画填色
    当前笔画：红色 - current: rgba(187,  68,  68, 1);
    之前笔画：黑色 - past:    rgba( 85,  85,  85, 1);
    后继笔画：透明 - next:    rgba(any, any, any, 0);
    描红笔画：灰色 - gray:    rgba(185, 185, 185, 1);
    */
      --stroke-color: rgba(calc(85 * var(--is-past) + 187 * var(--is-current) + 68 * var(--is-gray)),
          calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
          calc(85 * var(--is-past) + 68 * var(--is-current) + 68 * var(--is-gray)),
          calc(1 - var(--is-next)));

      fill: var(--stroke-color);
    }

    :root {
      --is-gray: 0;
      /* 初始化为 100，使描红字样必定计算出 --is-past=1，--is-current=0 --is-next=0 */
      --char-index: 100;
    }

    .write-them-down {
      /* 描红格子里填充灰色 */
      --is-gray: 1;
    }

    #char>div>svg {
      display: inline-block;
      /* https://bloggerpilot.com/en/tools/svg-to-css/ */
      background-image: url("data:image/svg+xml,%3Csvg width='59' height='59' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0l59 59M0 59L59 0M0 30h59M30 0v59' stroke-dasharray='4 4' stroke='%23aaa' fill='none' /%3E%3C/svg%3E");
      background-size: contain;
      border: 1px solid #aaa;
      width: 54px;
      height: 54px;
    }

    #math {
      font-family: 'Courier New', Courier, monospace;
      font-size: 24px;
      color: #666;
    }

    #math .question {
      text-align: center;
    }

    #math .question:first-child {
      text-align: left;
    }

    #math .question:last-child {
      text-align: right;
    }

    #math .question>span {
      display: inline-block;
      vertical-align: middle;
      text-align: center;
      width: 36px;
      height: 36px;
    }

    #math .box {
      border: 1px solid #aaa;
      border-radius: 2px;
    }

    .sample>svg+svg {
      margin-left: 4px;
    }

    .write-them-down+.sample {
      margin-top: 8px;
    }

    .write-them-down:not(:last-child) {
      padding-bottom: 12px;
      border-bottom: 1px solid #e5e7eb;
    }
  </style>
  <script>
    const injectedStyles = Array.from({ length: 100 })
      .map((_, idx) => `
      .sample > svg:nth-child(${idx + 1}) { --char-index: ${idx + 1}; }
      path:nth-child(${idx + 1}) { --stroke-index: ${idx + 1}; }
      `
      ).join('\n')

    document.querySelector('#injected')?.remove()
    document.head.insertAdjacentHTML('beforeend', `<style id="injected">${injectedStyles}</style>`) 
  </script>
</body>

</html>